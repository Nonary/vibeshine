<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">

<head>
  <!-- TEMPLATE_HEADER - Used by Every UI Page -->
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sunshine</title>
<link rel="icon" type="image/x-icon" href="./images/sunshine.ico">


<link href="./assets/css/sunshine.css" rel="stylesheet" />

    <style>
      .config-page {
        padding: 1em;
        border: 1px solid #dee2e6;
        border-top: none;
      }

      .buttons {
        padding: 1em 0;
      }

      .search-results {
        max-height: 300px;
        overflow-y: auto;
        border: 1px solid #dee2e6;
        border-radius: 0.375rem;
        background-color: var(--bs-body-bg);
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
      }

      .highlighted-field {
        background-color: #fff3cd !important;
        border: 2px solid #ffc107 !important;
        transition: all 0.3s ease;
        animation: highlight-pulse 0.5s ease-in-out;
      }

      @keyframes highlight-pulse {
        0% { box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(255, 193, 7, 0); }
        100% { box-shadow: 0 0 0 0 rgba(255, 193, 7, 0); }
      }

      .search-results .list-group-item {
        border-left: none;
        border-right: none;
      }

      .search-results .list-group-item:first-child {
        border-top: none;
      }

      .search-results .list-group-item:last-child {
        border-bottom: none;
      }
    </style>
  <script type="module" crossorigin src="./assets/config-585e2b78.js"></script>
  <link rel="modulepreload" crossorigin href="./assets/_plugin-vue_export-helper-cbbe2777.js">
  <link rel="modulepreload" crossorigin href="./assets/Navbar-1d01b83c.js">
  <link rel="modulepreload" crossorigin href="./assets/Checkbox-9a622a10.js">
  <link rel="stylesheet" href="./assets/_plugin-vue_export-helper-3a9792a4.css">
  <link rel="stylesheet" href="./assets/Navbar-13079613.css">
  <link rel="stylesheet" href="./assets/config-83570d8e.css">
</head>

<body id="app" v-cloak>
  <Navbar></Navbar>
  <div class="container">
    <h1 class="my-4">{{ $t('config.configuration') }}</h1>
    
    <!-- Search Component -->
    <div class="mb-3" v-if="config">
      <div class="input-group">
        <span class="input-group-text">
          <i class="fas fa-search"></i>
        </span>
        <input
          type="text"
          class="form-control"
          :placeholder="$t('config.search_config')"
          v-model="searchQuery"
          @input="performSearch"
          @keydown.escape="clearSearch"
          @keydown.arrow-down.prevent="moveSearchSelection(1)"
          @keydown.arrow-up.prevent="moveSearchSelection(-1)"
          @keydown.enter.prevent="selectActiveResult"
        />
        <button 
          class="btn btn-outline-secondary" 
          type="button" 
          @click="clearSearch"
          v-if="searchQuery"
        >
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <!-- Search Results -->
      <div class="search-results mt-2" v-if="searchQuery && searchResults.length > 0">
        <small class="text-muted">
          {{ searchResults.length === 1 ? $t('config.search_results_count', {count: searchResults.length}) : $t('config.search_results_count_plural', {count: searchResults.length}) }}
        </small>
        <div class="list-group list-group-flush">
          <button
            type="button"
            class="list-group-item list-group-item-action"
            v-for="(result, index) in searchResults.slice(0, 10)"
            :key="result.key"
            @click="navigateToResult(result)"
            :class="{'active': index === searchActiveIndex}"
          >
            <div class="d-flex w-100 justify-content-between">
              <h6 class="mb-1">{{ result.label }}</h6>
              <small class="text-muted">{{ result.tabName }}</small>
            </div>
            <p class="mb-1" v-if="result.description">{{ result.description }}</p>
          </button>
        </div>
      </div>
      
      <!-- No Results -->
      <div class="mt-2" v-if="searchQuery && searchResults.length === 0">
        <small class="text-muted">{{ $t('config.search_no_results') }}</small>
      </div>
    </div>
    
    <div class="form" v-if="config">
      <!-- Header -->
      <ul class="nav nav-tabs">
        <li class="nav-item" v-for="tab in tabs" :key="tab.id">
          <a class="nav-link" :class="{'active': tab.id === currentTab}" href="#"
            @click="currentTab = tab.id">{{tab.name}}</a>
        </li>
      </ul>

      <!-- General Tab -->
      <general
        v-if="currentTab === 'general'"
        :config="config"
        :platform="platform">
      </general>

      <!-- Input Tab -->
      <inputs
        v-if="currentTab === 'input'"
        :config="config"
        :platform="platform">
      </inputs>

      <!-- Audio/Video Tab -->
      <audio-video
        v-if="currentTab === 'av'"
        :config="config"
        :platform="platform"
      >
      </audio-video>

      <!-- Network Tab -->
      <network
        v-if="currentTab === 'network'"
        :config="config"
        :platform="platform">
      </network>

      <!-- Files Tab -->
      <files
        v-if="currentTab === 'files'"
        :config="config"
        :platform="platform">
      </files>

      <!-- Advanced Tab -->
      <advanced
        v-if="currentTab === 'advanced'"
        :config="config"
        :platform="platform">
      </advanced>

      <container-encoders
        :current-tab="currentTab"
        :config="config"
        :platform="platform">
      </container-encoders>
    </div>

    <!-- Save and Apply buttons -->
    <div class="alert alert-success my-4" v-if="saved && !restarted">
      <b>{{ $t('_common.success') }}</b> {{ $t('config.apply_note') }}
    </div>
    <div class="alert alert-success my-4" v-if="restarted">
      <b>{{ $t('_common.success') }}</b> {{ $t('config.restart_note') }}
    </div>
    <div class="mb-3 buttons">
      <button class="btn btn-primary mr-3" @click="save">{{ $t('_common.save') }}</button>
      <button class="btn btn-success" @click="apply" v-if="saved && !restarted">{{ $t('_common.apply') }}</button>
    </div>
  </div>
</body>



