import{r as y,a as _,d as e,t as l,w as u,v as h,e as T,f,g as v,h as c,F as V,j as C,k as g,o as d,l as N,m as b,n as w,p as G,q as P,u as E,_ as R,c as B,i as j}from"./_plugin-vue_export-helper-050a01a0.js";import{N as M}from"./Navbar-4a0ff179.js";import{_ as $}from"./Checkbox-a17287d1.js";const J={id:"general",class:"config-page"},z={class:"mb-3"},H={for:"locale",class:"form-label"},F={class:"form-text"},L={class:"mb-3"},K={for:"sunshine_name",class:"form-label"},Q={class:"form-text"},Y={class:"mb-3"},W={for:"min_log_level",class:"form-label"},X={value:"0"},Z={value:"1"},x={value:"2"},ee={value:"3"},oe={value:"4"},te={value:"5"},le={value:"6"},se={class:"form-text"},ne={id:"global_prep_cmd",class:"mb-3 d-flex flex-column"},ae={class:"form-label"},ie={class:"form-text"},de={key:0,class:"table"},re={scope:"col"},ue={scope:"col"},_e={key:0,scope:"col"},ce=["onUpdate:modelValue"],pe=["onUpdate:modelValue"],fe={key:0,class:"align-middle"},me=["onClick"],ve={__name:"General",props:{platform:String,config:Object},setup(a){const p=a,t=y(p.config);function n(){let s={do:"",undo:""};p.platform==="windows"&&(s={...s,elevated:!1}),t.value.global_prep_cmd.push(s)}function o(s){t.value.global_prep_cmd.splice(s,1)}return(s,i)=>(d(),_("div",J,[e("div",z,[e("label",H,l(s.$t("config.locale")),1),u(e("select",{id:"locale",class:"form-select","onUpdate:modelValue":i[0]||(i[0]=r=>t.value.locale=r)},i[4]||(i[4]=[T('<option value="bg">Български (Bulgarian)</option><option value="cs">Čeština (Czech)</option><option value="de">Deutsch (German)</option><option value="en">English</option><option value="en_GB">English, UK</option><option value="en_US">English, US</option><option value="es">Español (Spanish)</option><option value="fr">Français (French)</option><option value="it">Italiano (Italian)</option><option value="ja">日本語 (Japanese)</option><option value="ko">한국어 (Korean)</option><option value="pl">Polski (Polish)</option><option value="pt">Português (Portuguese)</option><option value="pt_BR">Português, Brasileiro (Portuguese, Brazilian)</option><option value="ru">Русский (Russian)</option><option value="sv">svenska (Swedish)</option><option value="tr">Türkçe (Turkish)</option><option value="uk">Українська (Ukranian)</option><option value="zh">简体中文 (Chinese Simplified)</option><option value="zh_TW">繁體中文 (Chinese Traditional)</option>',20)]),512),[[h,t.value.locale]]),e("div",F,l(s.$t("config.locale_desc")),1)]),e("div",L,[e("label",K,l(s.$t("config.sunshine_name")),1),u(e("input",{type:"text",class:"form-control",id:"sunshine_name",placeholder:"Sunshine","onUpdate:modelValue":i[1]||(i[1]=r=>t.value.sunshine_name=r)},null,512),[[f,t.value.sunshine_name]]),e("div",Q,l(s.$t("config.sunshine_name_desc")),1)]),e("div",Y,[e("label",W,l(s.$t("config.log_level")),1),u(e("select",{id:"min_log_level",class:"form-select","onUpdate:modelValue":i[2]||(i[2]=r=>t.value.min_log_level=r)},[e("option",X,l(s.$t("config.log_level_0")),1),e("option",Z,l(s.$t("config.log_level_1")),1),e("option",x,l(s.$t("config.log_level_2")),1),e("option",ee,l(s.$t("config.log_level_3")),1),e("option",oe,l(s.$t("config.log_level_4")),1),e("option",te,l(s.$t("config.log_level_5")),1),e("option",le,l(s.$t("config.log_level_6")),1)],512),[[h,t.value.min_log_level]]),e("div",se,l(s.$t("config.log_level_desc")),1)]),e("div",ne,[e("label",ae,l(s.$t("config.global_prep_cmd")),1),e("div",ie,l(s.$t("config.global_prep_cmd_desc")),1),t.value.global_prep_cmd.length>0?(d(),_("table",de,[e("thead",null,[e("tr",null,[e("th",re,[i[5]||(i[5]=e("i",{class:"fas fa-play"},null,-1)),v(" "+l(s.$t("_common.do_cmd")),1)]),e("th",ue,[i[6]||(i[6]=e("i",{class:"fas fa-undo"},null,-1)),v(" "+l(s.$t("_common.undo_cmd")),1)]),a.platform==="windows"?(d(),_("th",_e,[i[7]||(i[7]=e("i",{class:"fas fa-shield-alt"},null,-1)),v(" "+l(s.$t("_common.run_as")),1)])):c("",!0),i[8]||(i[8]=e("th",{scope:"col"},null,-1))])]),e("tbody",null,[(d(!0),_(V,null,C(t.value.global_prep_cmd,(r,m)=>(d(),_("tr",null,[e("td",null,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":k=>r.do=k},null,8,ce),[[f,r.do]])]),e("td",null,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":k=>r.undo=k},null,8,pe),[[f,r.undo]])]),a.platform==="windows"?(d(),_("td",fe,[g($,{id:"prep-cmd-admin-"+m,label:"_common.elevated",desc:"",modelValue:r.elevated,"onUpdate:modelValue":k=>r.elevated=k},null,8,["id","modelValue","onUpdate:modelValue"])])):c("",!0),e("td",null,[e("button",{class:"btn btn-danger",onClick:k=>o(m)},i[9]||(i[9]=[e("i",{class:"fas fa-trash"},null,-1)]),8,me),e("button",{class:"btn btn-success",onClick:n},i[10]||(i[10]=[e("i",{class:"fas fa-plus"},null,-1)]))])]))),256))])])):c("",!0),e("button",{class:"ms-0 mt-2 btn btn-success",style:{margin:"0 auto"},onClick:n}," + "+l(s.$t("config.add")),1)]),g($,{class:"mb-3",id:"notify_pre_releases","locale-prefix":"config",modelValue:t.value.notify_pre_releases,"onUpdate:modelValue":i[3]||(i[3]=r=>t.value.notify_pre_releases=r),default:"false"},null,8,["modelValue"])]))}},q={__name:"PlatformLayout",props:{platform:{type:String,required:!0}},setup(a){return(p,t)=>(d(),_(V,null,[p.$slots.windows&&a.platform==="windows"?N(p.$slots,"windows",{key:0}):c("",!0),p.$slots.linux&&a.platform==="linux"?N(p.$slots,"linux",{key:1}):c("",!0),p.$slots.macos&&a.platform==="macos"?N(p.$slots,"macos",{key:2}):c("",!0)],64))}},ge={id:"input",class:"config-page"},$e={key:0,class:"mb-3"},he={for:"gamepad",class:"form-label"},be={value:"auto"},ye={value:"ds5"},we={value:"switch"},Ve={value:"xone"},ke={value:"ds4"},Ue={value:"x360"},qe={class:"form-text"},Se={key:0,class:"mb-3 accordion"},Oe={class:"accordion-item"},Ee={class:"accordion-header"},De={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne"},Ne={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},Ie={class:"accordion-body"},Pe={key:2,class:"mb-3"},Ae={for:"back_button_timeout",class:"form-label"},Te={class:"form-text"},Ce={key:3,class:"mb-3"},Ge={for:"key_repeat_delay",class:"form-label"},Re={class:"form-text"},Be={key:4,class:"mb-3"},je={for:"key_repeat_frequency",class:"form-label"},Me={class:"form-text"},Je={__name:"Inputs",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",ge,[g($,{class:"mb-3",id:"controller","locale-prefix":"config",modelValue:t.value.controller,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.controller=s),default:"true"},null,8,["modelValue"]),t.value.controller==="enabled"&&a.platform!=="macos"?(d(),_("div",$e,[e("label",he,l(n.$t("config.gamepad")),1),u(e("select",{id:"gamepad",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.gamepad=s)},[e("option",be,l(n.$t("_common.auto")),1),g(q,{platform:a.platform},{linux:b(()=>[e("option",ye,l(n.$t("config.gamepad_ds5")),1),e("option",we,l(n.$t("config.gamepad_switch")),1),e("option",Ve,l(n.$t("config.gamepad_xone")),1)]),windows:b(()=>[e("option",ke,l(n.$t("config.gamepad_ds4")),1),e("option",Ue,l(n.$t("config.gamepad_x360")),1)]),_:1},8,["platform"])],512),[[h,t.value.gamepad]]),e("div",qe,l(n.$t("config.gamepad_desc")),1)])):c("",!0),t.value.controller==="enabled"?(d(),_(V,{key:1},[t.value.gamepad==="ds4"||t.value.gamepad==="auto"&&a.platform==="windows"?(d(),_("div",Se,[e("div",Oe,[e("h2",Ee,[e("button",De,l(n.$t(t.value.gamepad==="ds4"?"config.gamepad_ds4_manual":"config.gamepad_auto")),1)]),e("div",Ne,[e("div",Ie,[t.value.gamepad==="auto"?(d(),_(V,{key:0},[g($,{class:"mb-3",id:"motion_as_ds4","locale-prefix":"config",modelValue:t.value.motion_as_ds4,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.motion_as_ds4=s),default:"true"},null,8,["modelValue"]),g($,{class:"mb-3",id:"touchpad_as_ds4","locale-prefix":"config",modelValue:t.value.touchpad_as_ds4,"onUpdate:modelValue":o[3]||(o[3]=s=>t.value.touchpad_as_ds4=s),default:"true"},null,8,["modelValue"])],64)):c("",!0),t.value.gamepad==="ds4"?(d(),w($,{key:1,class:"mb-3",id:"ds4_back_as_touchpad_click","locale-prefix":"config",modelValue:t.value.ds4_back_as_touchpad_click,"onUpdate:modelValue":o[4]||(o[4]=s=>t.value.ds4_back_as_touchpad_click=s),default:"true"},null,8,["modelValue"])):c("",!0)])])])])):c("",!0)],64)):c("",!0),t.value.controller==="enabled"?(d(),_("div",Pe,[e("label",Ae,l(n.$t("config.back_button_timeout")),1),u(e("input",{type:"text",class:"form-control",id:"back_button_timeout",placeholder:"-1","onUpdate:modelValue":o[5]||(o[5]=s=>t.value.back_button_timeout=s)},null,512),[[f,t.value.back_button_timeout]]),e("div",Te,l(n.$t("config.back_button_timeout_desc")),1)])):c("",!0),o[14]||(o[14]=e("hr",null,null,-1)),g($,{class:"mb-3",id:"keyboard","locale-prefix":"config",modelValue:t.value.keyboard,"onUpdate:modelValue":o[6]||(o[6]=s=>t.value.keyboard=s),default:"true"},null,8,["modelValue"]),t.value.keyboard==="enabled"&&a.platform==="windows"?(d(),_("div",Ce,[e("label",Ge,l(n.$t("config.key_repeat_delay")),1),u(e("input",{type:"text",class:"form-control",id:"key_repeat_delay",placeholder:"500","onUpdate:modelValue":o[7]||(o[7]=s=>t.value.key_repeat_delay=s)},null,512),[[f,t.value.key_repeat_delay]]),e("div",Re,l(n.$t("config.key_repeat_delay_desc")),1)])):c("",!0),t.value.keyboard==="enabled"&&a.platform==="windows"?(d(),_("div",Be,[e("label",je,l(n.$t("config.key_repeat_frequency")),1),u(e("input",{type:"text",class:"form-control",id:"key_repeat_frequency",placeholder:"24.9","onUpdate:modelValue":o[8]||(o[8]=s=>t.value.key_repeat_frequency=s)},null,512),[[f,t.value.key_repeat_frequency]]),e("div",Me,l(n.$t("config.key_repeat_frequency_desc")),1)])):c("",!0),t.value.keyboard==="enabled"&&a.platform==="windows"?(d(),w($,{key:5,class:"mb-3",id:"always_send_scancodes","locale-prefix":"config",modelValue:t.value.always_send_scancodes,"onUpdate:modelValue":o[9]||(o[9]=s=>t.value.always_send_scancodes=s),default:"true"},null,8,["modelValue"])):c("",!0),t.value.keyboard==="enabled"?(d(),w($,{key:6,class:"mb-3",id:"key_rightalt_to_key_win","locale-prefix":"config",modelValue:t.value.key_rightalt_to_key_win,"onUpdate:modelValue":o[10]||(o[10]=s=>t.value.key_rightalt_to_key_win=s),default:"false"},null,8,["modelValue"])):c("",!0),o[15]||(o[15]=e("hr",null,null,-1)),g($,{class:"mb-3",id:"mouse","locale-prefix":"config",modelValue:t.value.mouse,"onUpdate:modelValue":o[11]||(o[11]=s=>t.value.mouse=s),default:"true"},null,8,["modelValue"]),t.value.mouse==="enabled"?(d(),w($,{key:7,class:"mb-3",id:"high_resolution_scrolling","locale-prefix":"config",modelValue:t.value.high_resolution_scrolling,"onUpdate:modelValue":o[12]||(o[12]=s=>t.value.high_resolution_scrolling=s),default:"true"},null,8,["modelValue"])):c("",!0),t.value.mouse==="enabled"?(d(),w($,{key:8,class:"mb-3",id:"native_pen_touch","locale-prefix":"config",modelValue:t.value.native_pen_touch,"onUpdate:modelValue":o[13]||(o[13]=s=>t.value.native_pen_touch=s),default:"true"},null,8,["modelValue"])):c("",!0)]))}},ze={id:"network",class:"config-page"},He={class:"mb-3"},Fe={for:"address_family",class:"form-label"},Le={value:"ipv4"},Ke={value:"both"},Qe={class:"form-text"},Ye={class:"mb-3"},We={for:"port",class:"form-label"},Xe={class:"form-text"},Ze={key:0,class:"alert alert-danger"},xe={key:1,class:"alert alert-danger"},eo={class:"table"},oo={scope:"col"},to={scope:"col"},lo={scope:"col"},so={key:0,class:"alert alert-primary",role:"alert"},no={key:2,class:"alert alert-warning"},ao={class:"mb-3"},io={for:"origin_web_ui_allowed",class:"form-label"},ro={value:"pc"},uo={value:"lan"},_o={value:"wan"},co={class:"form-text"},po={class:"mb-3"},fo={for:"external_ip",class:"form-label"},mo={class:"form-text"},vo={class:"mb-3"},go={for:"lan_encryption_mode",class:"form-label"},$o={value:"0"},ho={value:"1"},bo={value:"2"},yo={class:"form-text"},wo={class:"mb-3"},Vo={for:"wan_encryption_mode",class:"form-label"},ko={value:"0"},Uo={value:"1"},qo={value:"2"},So={class:"form-text"},Oo={class:"mb-3"},Eo={for:"ping_timeout",class:"form-label"},Do={class:"form-text"},A=47989,No={__name:"Network",props:["platform","config"],setup(a){const t=y(a.config),n=G(()=>{var o;return+((o=t.value)==null?void 0:o.port)});return(o,s)=>(d(),_("div",ze,[g($,{class:"mb-3",id:"upnp","locale-prefix":"config",modelValue:t.value.upnp,"onUpdate:modelValue":s[0]||(s[0]=i=>t.value.upnp=i),default:"false"},null,8,["modelValue"]),e("div",He,[e("label",Fe,l(o.$t("config.address_family")),1),u(e("select",{id:"address_family",class:"form-select","onUpdate:modelValue":s[1]||(s[1]=i=>t.value.address_family=i)},[e("option",Le,l(o.$t("config.address_family_ipv4")),1),e("option",Ke,l(o.$t("config.address_family_both")),1)],512),[[h,t.value.address_family]]),e("div",Qe,l(o.$t("config.address_family_desc")),1)]),e("div",Ye,[e("label",We,l(o.$t("config.port")),1),u(e("input",{type:"number",min:"1029",max:"65514",class:"form-control",id:"port",placeholder:A,"onUpdate:modelValue":s[2]||(s[2]=i=>t.value.port=i)},null,512),[[f,t.value.port]]),e("div",Xe,l(o.$t("config.port_desc")),1),+n.value-5<1024?(d(),_("div",Ze,[s[8]||(s[8]=e("i",{class:"fa-solid fa-xl fa-triangle-exclamation"},null,-1)),v(" "+l(o.$t("config.port_alert_1")),1)])):c("",!0),+n.value+21>65535?(d(),_("div",xe,[s[9]||(s[9]=e("i",{class:"fa-solid fa-xl fa-triangle-exclamation"},null,-1)),v(" "+l(o.$t("config.port_alert_2")),1)])):c("",!0),e("table",eo,[e("thead",null,[e("tr",null,[e("th",oo,l(o.$t("config.port_protocol")),1),e("th",to,l(o.$t("config.port_port")),1),e("th",lo,l(o.$t("config.port_note")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,l(o.$t("config.port_tcp")),1),e("td",null,l(+n.value-5),1),s[10]||(s[10]=e("td",null,null,-1))]),e("tr",null,[e("td",null,l(o.$t("config.port_tcp")),1),e("td",null,l(+n.value),1),e("td",null,[+n.value!==A?(d(),_("div",so,[s[11]||(s[11]=e("i",{class:"fa-solid fa-xl fa-circle-info"},null,-1)),v(" "+l(o.$t("config.port_http_port_note")),1)])):c("",!0)])]),e("tr",null,[e("td",null,l(o.$t("config.port_tcp")),1),e("td",null,l(+n.value+1),1),e("td",null,l(o.$t("config.port_web_ui")),1)]),e("tr",null,[e("td",null,l(o.$t("config.port_tcp")),1),e("td",null,l(+n.value+21),1),s[12]||(s[12]=e("td",null,null,-1))]),e("tr",null,[e("td",null,l(o.$t("config.port_udp")),1),e("td",null,l(+n.value+9)+" - "+l(+n.value+11),1),s[13]||(s[13]=e("td",null,null,-1))])])]),t.value.origin_web_ui_allowed==="wan"?(d(),_("div",no,[s[14]||(s[14]=e("i",{class:"fa-solid fa-xl fa-triangle-exclamation"},null,-1)),v(" "+l(o.$t("config.port_warning")),1)])):c("",!0)]),e("div",ao,[e("label",io,l(o.$t("config.origin_web_ui_allowed")),1),u(e("select",{id:"origin_web_ui_allowed",class:"form-select","onUpdate:modelValue":s[3]||(s[3]=i=>t.value.origin_web_ui_allowed=i)},[e("option",ro,l(o.$t("config.origin_web_ui_allowed_pc")),1),e("option",uo,l(o.$t("config.origin_web_ui_allowed_lan")),1),e("option",_o,l(o.$t("config.origin_web_ui_allowed_wan")),1)],512),[[h,t.value.origin_web_ui_allowed]]),e("div",co,l(o.$t("config.origin_web_ui_allowed_desc")),1)]),e("div",po,[e("label",fo,l(o.$t("config.external_ip")),1),u(e("input",{type:"text",class:"form-control",id:"external_ip",placeholder:"123.456.789.12","onUpdate:modelValue":s[4]||(s[4]=i=>t.value.external_ip=i)},null,512),[[f,t.value.external_ip]]),e("div",mo,l(o.$t("config.external_ip_desc")),1)]),e("div",vo,[e("label",go,l(o.$t("config.lan_encryption_mode")),1),u(e("select",{id:"lan_encryption_mode",class:"form-select","onUpdate:modelValue":s[5]||(s[5]=i=>t.value.lan_encryption_mode=i)},[e("option",$o,l(o.$t("_common.disabled_def")),1),e("option",ho,l(o.$t("config.lan_encryption_mode_1")),1),e("option",bo,l(o.$t("config.lan_encryption_mode_2")),1)],512),[[h,t.value.lan_encryption_mode]]),e("div",yo,l(o.$t("config.lan_encryption_mode_desc")),1)]),e("div",wo,[e("label",Vo,l(o.$t("config.wan_encryption_mode")),1),u(e("select",{id:"wan_encryption_mode",class:"form-select","onUpdate:modelValue":s[6]||(s[6]=i=>t.value.wan_encryption_mode=i)},[e("option",ko,l(o.$t("_common.disabled")),1),e("option",Uo,l(o.$t("config.wan_encryption_mode_1")),1),e("option",qo,l(o.$t("config.wan_encryption_mode_2")),1)],512),[[h,t.value.wan_encryption_mode]]),e("div",So,l(o.$t("config.wan_encryption_mode_desc")),1)]),e("div",Oo,[e("label",Eo,l(o.$t("config.ping_timeout")),1),u(e("input",{type:"text",class:"form-control",id:"ping_timeout",placeholder:"10000","onUpdate:modelValue":s[7]||(s[7]=i=>t.value.ping_timeout=i)},null,512),[[f,t.value.ping_timeout]]),e("div",Do,l(o.$t("config.ping_timeout_desc")),1)])]))}},Io={id:"files",class:"config-page"},Po={class:"mb-3"},Ao={for:"file_apps",class:"form-label"},To={class:"form-text"},Co={class:"mb-3"},Go={for:"credentials_file",class:"form-label"},Ro={class:"form-text"},Bo={class:"mb-3"},jo={for:"log_path",class:"form-label"},Mo={class:"form-text"},Jo={class:"mb-3"},zo={for:"pkey",class:"form-label"},Ho={class:"form-text"},Fo={class:"mb-3"},Lo={for:"cert",class:"form-label"},Ko={class:"form-text"},Qo={class:"mb-3"},Yo={for:"file_state",class:"form-label"},Wo={class:"form-text"},Xo={__name:"Files",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",Io,[e("div",Po,[e("label",Ao,l(n.$t("config.file_apps")),1),u(e("input",{type:"text",class:"form-control",id:"file_apps",placeholder:"apps.json","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.file_apps=s)},null,512),[[f,t.value.file_apps]]),e("div",To,l(n.$t("config.file_apps_desc")),1)]),e("div",Co,[e("label",Go,l(n.$t("config.credentials_file")),1),u(e("input",{type:"text",class:"form-control",id:"credentials_file",placeholder:"sunshine_state.json","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.credentials_file=s)},null,512),[[f,t.value.credentials_file]]),e("div",Ro,l(n.$t("config.credentials_file_desc")),1)]),e("div",Bo,[e("label",jo,l(n.$t("config.log_path")),1),u(e("input",{type:"text",class:"form-control",id:"log_path",placeholder:"sunshine.log","onUpdate:modelValue":o[2]||(o[2]=s=>t.value.log_path=s)},null,512),[[f,t.value.log_path]]),e("div",Mo,l(n.$t("config.log_path_desc")),1)]),e("div",Jo,[e("label",zo,l(n.$t("config.pkey")),1),u(e("input",{type:"text",class:"form-control",id:"pkey",placeholder:"/dir/pkey.pem","onUpdate:modelValue":o[3]||(o[3]=s=>t.value.pkey=s)},null,512),[[f,t.value.pkey]]),e("div",Ho,l(n.$t("config.pkey_desc")),1)]),e("div",Fo,[e("label",Lo,l(n.$t("config.cert")),1),u(e("input",{type:"text",class:"form-control",id:"cert",placeholder:"/dir/cert.pem","onUpdate:modelValue":o[4]||(o[4]=s=>t.value.cert=s)},null,512),[[f,t.value.cert]]),e("div",Ko,l(n.$t("config.cert_desc")),1)]),e("div",Qo,[e("label",Yo,l(n.$t("config.file_state")),1),u(e("input",{type:"text",class:"form-control",id:"file_state",placeholder:"sunshine_state.json","onUpdate:modelValue":o[5]||(o[5]=s=>t.value.file_state=s)},null,512),[[f,t.value.file_state]]),e("div",Wo,l(n.$t("config.file_state_desc")),1)])]))}},Zo={class:"config-page"},xo={class:"mb-3"},et={for:"fec_percentage",class:"form-label"},ot={class:"form-text"},tt={class:"mb-3"},lt={for:"qp",class:"form-label"},st={class:"form-text"},nt={class:"mb-3"},at={for:"min_threads",class:"form-label"},it={class:"form-text"},dt={class:"mb-3"},rt={for:"hevc_mode",class:"form-label"},ut={value:"0"},_t={value:"1"},ct={value:"2"},pt={value:"3"},ft={class:"form-text"},mt={class:"mb-3"},vt={for:"av1_mode",class:"form-label"},gt={value:"0"},$t={value:"1"},ht={value:"2"},bt={value:"3"},yt={class:"form-text"},wt={key:0,class:"mb-3"},Vt={for:"capture",class:"form-label"},kt={value:""},Ut={value:"wgc"},qt={class:"form-text"},St={class:"mb-3"},Ot={for:"encoder",class:"form-label"},Et={value:""},Dt={value:"software"},Nt={class:"form-text"},It={__name:"Advanced",props:["platform","config","global_prep_cmd"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",Zo,[e("div",xo,[e("label",et,l(n.$t("config.fec_percentage")),1),u(e("input",{type:"text",class:"form-control",id:"fec_percentage",placeholder:"20","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.fec_percentage=s)},null,512),[[f,t.value.fec_percentage]]),e("div",ot,l(n.$t("config.fec_percentage_desc")),1)]),e("div",tt,[e("label",lt,l(n.$t("config.qp")),1),u(e("input",{type:"number",class:"form-control",id:"qp",placeholder:"28","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.qp=s)},null,512),[[f,t.value.qp]]),e("div",st,l(n.$t("config.qp_desc")),1)]),e("div",nt,[e("label",at,l(n.$t("config.min_threads")),1),u(e("input",{type:"number",class:"form-control",id:"min_threads",placeholder:"2",min:"1","onUpdate:modelValue":o[2]||(o[2]=s=>t.value.min_threads=s)},null,512),[[f,t.value.min_threads]]),e("div",it,l(n.$t("config.min_threads_desc")),1)]),e("div",dt,[e("label",rt,l(n.$t("config.hevc_mode")),1),u(e("select",{id:"hevc_mode",class:"form-select","onUpdate:modelValue":o[3]||(o[3]=s=>t.value.hevc_mode=s)},[e("option",ut,l(n.$t("config.hevc_mode_0")),1),e("option",_t,l(n.$t("config.hevc_mode_1")),1),e("option",ct,l(n.$t("config.hevc_mode_2")),1),e("option",pt,l(n.$t("config.hevc_mode_3")),1)],512),[[h,t.value.hevc_mode]]),e("div",ft,l(n.$t("config.hevc_mode_desc")),1)]),e("div",mt,[e("label",vt,l(n.$t("config.av1_mode")),1),u(e("select",{id:"av1_mode",class:"form-select","onUpdate:modelValue":o[4]||(o[4]=s=>t.value.av1_mode=s)},[e("option",gt,l(n.$t("config.av1_mode_0")),1),e("option",$t,l(n.$t("config.av1_mode_1")),1),e("option",ht,l(n.$t("config.av1_mode_2")),1),e("option",bt,l(n.$t("config.av1_mode_3")),1)],512),[[h,t.value.av1_mode]]),e("div",yt,l(n.$t("config.av1_mode_desc")),1)]),a.platform!=="macos"?(d(),_("div",wt,[e("label",Vt,l(n.$t("config.capture")),1),u(e("select",{id:"capture",class:"form-select","onUpdate:modelValue":o[5]||(o[5]=s=>t.value.capture=s)},[e("option",kt,l(n.$t("_common.autodetect")),1),g(q,{platform:a.platform},{linux:b(()=>o[7]||(o[7]=[e("option",{value:"nvfbc"},"NvFBC",-1),e("option",{value:"wlr"},"wlroots",-1),e("option",{value:"kms"},"KMS",-1),e("option",{value:"x11"},"X11",-1)])),windows:b(()=>[o[8]||(o[8]=e("option",{value:"ddx"},"Desktop Duplication API",-1)),e("option",Ut,"Windows.Graphics.Capture "+l(n.$t("_common.beta")),1)]),_:1},8,["platform"])],512),[[h,t.value.capture]]),e("div",qt,l(n.$t("config.capture_desc")),1)])):c("",!0),e("div",St,[e("label",Ot,l(n.$t("config.encoder")),1),u(e("select",{id:"encoder",class:"form-select","onUpdate:modelValue":o[6]||(o[6]=s=>t.value.encoder=s)},[e("option",Et,l(n.$t("_common.autodetect")),1),g(q,{platform:a.platform},{windows:b(()=>o[9]||(o[9]=[e("option",{value:"nvenc"},"NVIDIA NVENC",-1),e("option",{value:"quicksync"},"Intel QuickSync",-1),e("option",{value:"amdvce"},"AMD AMF/VCE",-1)])),linux:b(()=>o[10]||(o[10]=[e("option",{value:"nvenc"},"NVIDIA NVENC",-1),e("option",{value:"vaapi"},"VA-API",-1)])),macos:b(()=>o[11]||(o[11]=[e("option",{value:"videotoolbox"},"VideoToolbox",-1)])),_:1},8,["platform"]),e("option",Dt,l(n.$t("config.encoder_software")),1)],512),[[h,t.value.encoder]]),e("div",Nt,l(n.$t("config.encoder_desc")),1)])]))}};class Pt{constructor(p){this.platform=p}getPlatformKey(p,t){return p+"_"+t}getMessageUsingPlatform(p,t){const n=this.getPlatformKey(p,this.platform),o=P("i18n");let s=o.t(n);if(s!==n)return s;if(this.platform==="windows")return t||s;const i=this.getPlatformKey(p,"unix");return s=o.t(i),s===i&&t?t:s}}function At(a){if(a||(a=P("platform").value),!a)throw"platform argument missing";return P("platformMessage",()=>new Pt(a),!0)}function D(a,p){return At().getMessageUsingPlatform(a,p)}const Tt={key:0,class:"mb-3"},Ct={for:"adapter_name",class:"form-label"},Gt=["placeholder"],Rt={class:"form-text"},Bt={__name:"AdapterNameSelector",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>a.platform!=="macos"?(d(),_("div",Tt,[e("label",Ct,l(n.$t("config.adapter_name")),1),u(e("input",{type:"text",class:"form-control",id:"adapter_name",placeholder:E(D)("config.adapter_name_placeholder","/dev/dri/renderD128"),"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.adapter_name=s)},null,8,Gt),[[f,t.value.adapter_name]]),e("div",Rt,[g(q,{platform:a.platform},{windows:b(()=>[v(l(n.$t("config.adapter_name_desc_windows")),1),o[1]||(o[1]=e("br",null,null,-1)),o[2]||(o[2]=e("pre",null,"tools\\dxgi-info.exe",-1))]),linux:b(()=>[v(l(n.$t("config.adapter_name_desc_linux_1")),1),o[3]||(o[3]=e("br",null,null,-1)),e("pre",null,"ls /dev/dri/renderD*  # "+l(n.$t("config.adapter_name_desc_linux_2")),1),o[4]||(o[4]=e("pre",null,`              vainfo --display drm --device /dev/dri/renderD129 | \\
                grep -E "((VAProfileH264High|VAProfileHEVCMain|VAProfileHEVCMain10).*VAEntrypointEncSlice)|Driver version"
            `,-1)),v(" "+l(n.$t("config.adapter_name_desc_linux_3")),1),o[5]||(o[5]=e("br",null,null,-1)),o[6]||(o[6]=e("i",null,"VAProfileH264High : VAEntrypointEncSlice",-1))]),_:1},8,["platform"])])])):c("",!0)}},jt={class:"mb-3"},Mt={for:"output_name",class:"form-label"},Jt=["placeholder"],zt={class:"form-text"},Ht={__name:"DisplayOutputSelector",props:["platform","config"],setup(a){const p=a,t=y(p.config),n=p.platform==="windows"?"{de9bb7e2-186e-505b-9e93-f48793333810}":"0";return(o,s)=>(d(),_("div",jt,[e("label",Mt,l(E(D)("config.output_name")),1),u(e("input",{type:"text",class:"form-control",id:"output_name",placeholder:E(n),"onUpdate:modelValue":s[0]||(s[0]=i=>t.value.output_name=i)},null,8,Jt),[[f,t.value.output_name]]),e("div",zt,[v(l(E(D)("config.output_name_desc")),1),s[4]||(s[4]=e("br",null,null,-1)),g(q,{platform:a.platform},{windows:b(()=>s[1]||(s[1]=[e("pre",{style:{"white-space":"pre-line"}},[v("            "),e("b",null,"  {"),v(`
            `),e("b",null,'    "device_id": "{de9bb7e2-186e-505b-9e93-f48793333810}"'),v(`
            `),e("b",null,'    "display_name": "\\\\\\\\.\\\\DISPLAY1"'),v(`
            `),e("b",null,'    "friendly_name": "ROG PG279Q"'),v(`
            `),e("b",null,"    ..."),v(`
            `),e("b",null,"  }"),v(`
          `)],-1)])),linux:b(()=>s[2]||(s[2]=[e("pre",{style:{"white-space":"pre-line"}},`            Info: Detecting displays
            Info: Detected display: DVI-D-0 (id: 0) connected: false
            Info: Detected display: HDMI-0 (id: 1) connected: true
            Info: Detected display: DP-0 (id: 2) connected: true
            Info: Detected display: DP-1 (id: 3) connected: false
            Info: Detected display: DVI-D-1 (id: 4) connected: false
          `,-1)])),macos:b(()=>s[3]||(s[3]=[e("pre",{style:{"white-space":"pre-line"}},`            Info: Detecting displays
            Info: Detected display: Monitor-0 (id: 3) connected: true
            Info: Detected display: Monitor-1 (id: 2) connected: true
          `,-1)])),_:1},8,["platform"])])]))}},Ft={class:"mb-3 accordion"},Lt={class:"accordion-item"},Kt={class:"accordion-header"},Qt={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne"},Yt={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},Wt={class:"accordion-body"},Xt={class:"mb-3"},Zt={for:"dd_configuration_option",class:"form-label"},xt={value:"disabled"},el={value:"verify_only"},ol={value:"ensure_active"},tl={value:"ensure_primary"},ll={value:"ensure_only_display"},sl={key:0,class:"mb-3"},nl={for:"dd_resolution_option",class:"form-label"},al={value:"disabled"},il={value:"auto"},dl={value:"manual"},rl={key:0,class:"form-text"},ul={key:1,class:"mt-2 ps-4"},_l={class:"form-text"},cl={key:1,class:"mb-3"},pl={for:"dd_refresh_rate_option",class:"form-label"},fl={value:"disabled"},ml={value:"auto"},vl={value:"manual"},gl={key:0,class:"mt-2 ps-4"},$l={class:"form-text"},hl={key:2,class:"mb-3"},bl={for:"dd_hdr_option",class:"form-label"},yl={value:"disabled"},wl={value:"auto"},Vl={for:"dd_wa_hdr_toggle_delay",class:"form-label"},kl={class:"form-text"},Ul={key:3,class:"mb-3"},ql={for:"dd_config_revert_delay",class:"form-label"},Sl={class:"form-text"},Ol={key:4,class:"mb-3"},El={key:5,class:"mb-3"},Dl={for:"dd_mode_remapping",class:"form-label"},Nl={id:"dd_mode_remapping",class:"d-flex flex-column"},Il={class:"form-text"},Pl={key:0,class:"table"},Al={key:0,scope:"col"},Tl={key:1,scope:"col"},Cl={key:2,scope:"col"},Gl={key:3,scope:"col"},Rl={key:0},Bl=["onUpdate:modelValue"],jl={key:1},Ml=["onUpdate:modelValue"],Jl={key:2},zl=["onUpdate:modelValue"],Hl={key:3},Fl=["onUpdate:modelValue"],Ll=["onClick"],O="refresh_rate_only",S="resolution_only",I="mixed",Kl={__name:"DisplayDeviceOptions",props:{platform:String,config:Object},setup(a){const t=y(a.config);function n(){return(t.value.dd_resolution_option==="auto"||t.value.dd_refresh_rate_option==="auto")&&t.value.dd_configuration_option!=="disabled"}function o(){return t.value.dd_resolution_option!=="auto"?O:t.value.dd_refresh_rate_option!=="auto"?S:I}function s(){const i=o();let r={};i!==S&&(r.requested_fps="",r.final_refresh_rate=""),i!==O&&(r.requested_resolution="",r.final_resolution=""),t.value.dd_mode_remapping[i].push(r)}return(i,r)=>(d(),w(q,{platform:a.platform},{windows:b(()=>[e("div",Ft,[e("div",Lt,[e("h2",Kt,[e("button",Qt,l(i.$t("config.dd_options_header")),1)]),e("div",Yt,[e("div",Wt,[e("div",Xt,[e("label",Zt,l(i.$t("config.dd_config_label")),1),u(e("select",{id:"dd_configuration_option",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=m=>t.value.dd_configuration_option=m)},[e("option",xt,l(i.$t("_common.disabled_def")),1),e("option",el,l(i.$t("config.dd_config_verify_only")),1),e("option",ol,l(i.$t("config.dd_config_ensure_active")),1),e("option",tl,l(i.$t("config.dd_config_ensure_primary")),1),e("option",ll,l(i.$t("config.dd_config_ensure_only_display")),1)],512),[[h,t.value.dd_configuration_option]])]),t.value.dd_configuration_option!=="disabled"?(d(),_("div",sl,[e("label",nl,l(i.$t("config.dd_resolution_option")),1),u(e("select",{id:"dd_resolution_option",class:"form-select","onUpdate:modelValue":r[1]||(r[1]=m=>t.value.dd_resolution_option=m)},[e("option",al,l(i.$t("config.dd_resolution_option_disabled")),1),e("option",il,l(i.$t("config.dd_resolution_option_auto")),1),e("option",dl,l(i.$t("config.dd_resolution_option_manual")),1)],512),[[h,t.value.dd_resolution_option]]),t.value.dd_resolution_option==="auto"||t.value.dd_resolution_option==="manual"?(d(),_("div",rl,l(i.$t("config.dd_resolution_option_ogs_desc")),1)):c("",!0),t.value.dd_resolution_option==="manual"?(d(),_("div",ul,[e("div",_l,l(i.$t("config.dd_resolution_option_manual_desc")),1),u(e("input",{type:"text",class:"form-control",id:"dd_manual_resolution",placeholder:"2560x1440","onUpdate:modelValue":r[2]||(r[2]=m=>t.value.dd_manual_resolution=m)},null,512),[[f,t.value.dd_manual_resolution]])])):c("",!0)])):c("",!0),t.value.dd_configuration_option!=="disabled"?(d(),_("div",cl,[e("label",pl,l(i.$t("config.dd_refresh_rate_option")),1),u(e("select",{id:"dd_refresh_rate_option",class:"form-select","onUpdate:modelValue":r[3]||(r[3]=m=>t.value.dd_refresh_rate_option=m)},[e("option",fl,l(i.$t("config.dd_refresh_rate_option_disabled")),1),e("option",ml,l(i.$t("config.dd_refresh_rate_option_auto")),1),e("option",vl,l(i.$t("config.dd_refresh_rate_option_manual")),1)],512),[[h,t.value.dd_refresh_rate_option]]),t.value.dd_refresh_rate_option==="manual"?(d(),_("div",gl,[e("div",$l,l(i.$t("config.dd_refresh_rate_option_manual_desc")),1),u(e("input",{type:"text",class:"form-control",id:"dd_manual_refresh_rate",placeholder:"59.9558","onUpdate:modelValue":r[4]||(r[4]=m=>t.value.dd_manual_refresh_rate=m)},null,512),[[f,t.value.dd_manual_refresh_rate]])])):c("",!0)])):c("",!0),t.value.dd_configuration_option!=="disabled"?(d(),_("div",hl,[e("label",bl,l(i.$t("config.dd_hdr_option")),1),u(e("select",{id:"dd_hdr_option",class:"mb-3 form-select","onUpdate:modelValue":r[5]||(r[5]=m=>t.value.dd_hdr_option=m)},[e("option",yl,l(i.$t("config.dd_hdr_option_disabled")),1),e("option",wl,l(i.$t("config.dd_hdr_option_auto")),1)],512),[[h,t.value.dd_hdr_option]]),e("label",Vl,l(i.$t("config.dd_wa_hdr_toggle_delay")),1),u(e("input",{type:"number",class:"form-control",id:"dd_wa_hdr_toggle_delay",placeholder:"0",min:"0",max:"3000","onUpdate:modelValue":r[6]||(r[6]=m=>t.value.dd_wa_hdr_toggle_delay=m)},null,512),[[f,t.value.dd_wa_hdr_toggle_delay]]),e("div",kl,[v(l(i.$t("config.dd_wa_hdr_toggle_delay_desc_1"))+" ",1),r[10]||(r[10]=e("br",null,null,-1)),v(" "+l(i.$t("config.dd_wa_hdr_toggle_delay_desc_2"))+" ",1),r[11]||(r[11]=e("br",null,null,-1)),v(" "+l(i.$t("config.dd_wa_hdr_toggle_delay_desc_3")),1)])])):c("",!0),t.value.dd_configuration_option!=="disabled"?(d(),_("div",Ul,[e("label",ql,l(i.$t("config.dd_config_revert_delay")),1),u(e("input",{type:"number",class:"form-control",id:"dd_config_revert_delay",placeholder:"3000",min:"0","onUpdate:modelValue":r[7]||(r[7]=m=>t.value.dd_config_revert_delay=m)},null,512),[[f,t.value.dd_config_revert_delay]]),e("div",Sl,l(i.$t("config.dd_config_revert_delay_desc")),1)])):c("",!0),t.value.dd_configuration_option!=="disabled"?(d(),_("div",Ol,[g($,{id:"dd_config_revert_on_disconnect","locale-prefix":"config",modelValue:t.value.dd_config_revert_on_disconnect,"onUpdate:modelValue":r[8]||(r[8]=m=>t.value.dd_config_revert_on_disconnect=m),default:"false"},null,8,["modelValue"])])):c("",!0),n()?(d(),_("div",El,[e("label",Dl,l(i.$t("config.dd_mode_remapping")),1),e("div",Nl,[e("div",Il,[v(l(i.$t("config.dd_mode_remapping_desc_1")),1),r[14]||(r[14]=e("br",null,null,-1)),v(" "+l(i.$t("config.dd_mode_remapping_desc_2")),1),r[15]||(r[15]=e("br",null,null,-1)),v(" "+l(i.$t("config.dd_mode_remapping_desc_3")),1),r[16]||(r[16]=e("br",null,null,-1)),v(" "+l(i.$t(o()===I?"config.dd_mode_remapping_desc_4_final_values_mixed":"config.dd_mode_remapping_desc_4_final_values_non_mixed")),1),r[17]||(r[17]=e("br",null,null,-1)),o()===I?(d(),_(V,{key:0},[v(l(i.$t("config.dd_mode_remapping_desc_5_sops_mixed_only")),1),r[12]||(r[12]=e("br",null,null,-1))],64)):c("",!0),o()===S?(d(),_(V,{key:1},[v(l(i.$t("config.dd_mode_remapping_desc_5_sops_resolution_only")),1),r[13]||(r[13]=e("br",null,null,-1))],64)):c("",!0)])]),t.value.dd_mode_remapping[o()].length>0?(d(),_("table",Pl,[e("thead",null,[e("tr",null,[o()!==O?(d(),_("th",Al,l(i.$t("config.dd_mode_remapping_requested_resolution")),1)):c("",!0),o()!==S?(d(),_("th",Tl,l(i.$t("config.dd_mode_remapping_requested_fps")),1)):c("",!0),o()!==O?(d(),_("th",Cl,l(i.$t("config.dd_mode_remapping_final_resolution")),1)):c("",!0),o()!==S?(d(),_("th",Gl,l(i.$t("config.dd_mode_remapping_final_refresh_rate")),1)):c("",!0),r[18]||(r[18]=e("th",{scope:"col"},null,-1))])]),e("tbody",null,[(d(!0),_(V,null,C(t.value.dd_mode_remapping[o()],(m,k)=>(d(),_("tr",null,[o()!==O?(d(),_("td",Rl,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":U=>m.requested_resolution=U,placeholder:"1920x1080"},null,8,Bl),[[f,m.requested_resolution]])])):c("",!0),o()!==S?(d(),_("td",jl,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":U=>m.requested_fps=U,placeholder:"60"},null,8,Ml),[[f,m.requested_fps]])])):c("",!0),o()!==O?(d(),_("td",Jl,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":U=>m.final_resolution=U,placeholder:"2560x1440"},null,8,zl),[[f,m.final_resolution]])])):c("",!0),o()!==S?(d(),_("td",Hl,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":U=>m.final_refresh_rate=U,placeholder:"119.95"},null,8,Fl),[[f,m.final_refresh_rate]])])):c("",!0),e("td",null,[e("button",{class:"btn btn-danger",onClick:U=>t.value.dd_mode_remapping[o()].splice(k,1)},r[19]||(r[19]=[e("i",{class:"fas fa-trash"},null,-1)]),8,Ll)])]))),256))])])):c("",!0),e("button",{class:"ms-0 mt-2 btn btn-success",style:{margin:"0 auto"},onClick:r[9]||(r[9]=m=>s())}," + "+l(i.$t("config.dd_mode_remapping_add")),1)])):c("",!0)])])])])]),linux:b(()=>r[20]||(r[20]=[])),macos:b(()=>r[21]||(r[21]=[])),_:1},8,["platform"]))}};const Ql={class:"mb-3"},Yl={for:"max_bitrate",class:"form-label"},Wl={class:"form-text"},Xl={class:"mb-3"},Zl={for:"minimum_fps_target",class:"form-label"},xl={class:"form-text"},es={__name:"DisplayModesSettings",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_(V,null,[e("div",Ql,[e("label",Yl,l(n.$t("config.max_bitrate")),1),u(e("input",{type:"number",class:"form-control",id:"max_bitrate",placeholder:"0","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.max_bitrate=s)},null,512),[[f,t.value.max_bitrate]]),e("div",Wl,l(n.$t("config.max_bitrate_desc")),1)]),e("div",Xl,[e("label",Zl,l(n.$t("config.minimum_fps_target")),1),u(e("input",{type:"number",min:"0",max:"1000",class:"form-control",id:"minimum_fps_target",placeholder:"0","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.minimum_fps_target=s)},null,512),[[f,t.value.minimum_fps_target]]),e("div",xl,l(n.$t("config.minimum_fps_target_desc")),1)])],64))}},os=R(es,[["__scopeId","data-v-cb151002"]]),ts={id:"audio-video",class:"config-page"},ls={class:"mb-3"},ss={for:"audio_sink",class:"form-label"},ns=["placeholder"],as={class:"form-text"},is={class:"mb-3"},ds={for:"virtual_sink",class:"form-label"},rs=["placeholder"],us={class:"form-text"},_s={__name:"AudioVideo",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",ts,[e("div",ls,[e("label",ss,l(n.$t("config.audio_sink")),1),u(e("input",{type:"text",class:"form-control",id:"audio_sink",placeholder:E(D)("config.audio_sink_placeholder","alsa_output.pci-0000_09_00.3.analog-stereo"),"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.audio_sink=s)},null,8,ns),[[f,t.value.audio_sink]]),e("div",as,[v(l(E(D)("config.audio_sink_desc")),1),o[7]||(o[7]=e("br",null,null,-1)),g(q,{platform:a.platform},{windows:b(()=>o[4]||(o[4]=[e("pre",null,"tools\\audio-info.exe",-1)])),linux:b(()=>o[5]||(o[5]=[e("pre",null,'pacmd list-sinks | grep "name:"',-1),e("pre",null,"pactl info | grep Source",-1)])),macos:b(()=>o[6]||(o[6]=[e("a",{href:"https://github.com/mattingalls/Soundflower",target:"_blank"},"Soundflower",-1),e("br",null,null,-1),e("a",{href:"https://github.com/ExistentialAudio/BlackHole",target:"_blank"},"BlackHole",-1),v(". ",-1)])),_:1},8,["platform"])])]),g(q,{platform:a.platform},{windows:b(()=>[e("div",is,[e("label",ds,l(n.$t("config.virtual_sink")),1),u(e("input",{type:"text",class:"form-control",id:"virtual_sink",placeholder:n.$t("config.virtual_sink_placeholder"),"onUpdate:modelValue":o[1]||(o[1]=s=>t.value.virtual_sink=s)},null,8,rs),[[f,t.value.virtual_sink]]),e("div",us,l(n.$t("config.virtual_sink_desc")),1)]),g($,{class:"mb-3",id:"install_steam_audio_drivers","locale-prefix":"config",modelValue:t.value.install_steam_audio_drivers,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.install_steam_audio_drivers=s),default:"true"},null,8,["modelValue"])]),_:1},8,["platform"]),g($,{class:"mb-3",id:"stream_audio","locale-prefix":"config",modelValue:t.value.stream_audio,"onUpdate:modelValue":o[3]||(o[3]=s=>t.value.stream_audio=s),default:"true"},null,8,["modelValue"]),g(Bt,{platform:a.platform,config:t.value},null,8,["platform","config"]),g(Ht,{platform:a.platform,config:t.value},null,8,["platform","config"]),g(Kl,{platform:a.platform,config:t.value},null,8,["platform","config"]),g(os,{platform:a.platform,config:t.value},null,8,["platform","config"])]))}},cs={id:"nvidia-nvenc-encoder",class:"config-page"},ps={class:"mb-3"},fs={for:"nvenc_preset",class:"form-label"},ms={value:"1"},vs={value:"7"},gs={class:"form-text"},$s={class:"mb-3"},hs={for:"nvenc_twopass",class:"form-label"},bs={value:"disabled"},ys={value:"quarter_res"},ws={value:"full_res"},Vs={class:"form-text"},ks={class:"mb-3"},Us={for:"nvenc_vbv_increase",class:"form-label"},qs={class:"form-text"},Ss={class:"mb-3 accordion"},Os={class:"accordion-item"},Es={class:"accordion-header"},Ds={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne"},Ns={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},Is={class:"accordion-body"},Ps={__name:"NvidiaNvencEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",cs,[e("div",ps,[e("label",fs,l(n.$t("config.nvenc_preset")),1),u(e("select",{id:"nvenc_preset",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.nvenc_preset=s)},[e("option",ms,"P1 "+l(n.$t("config.nvenc_preset_1")),1),o[8]||(o[8]=T('<option value="2">P2</option><option value="3">P3</option><option value="4">P4</option><option value="5">P5</option><option value="6">P6</option>',5)),e("option",vs,"P7 "+l(n.$t("config.nvenc_preset_7")),1)],512),[[h,t.value.nvenc_preset]]),e("div",gs,l(n.$t("config.nvenc_preset_desc")),1)]),e("div",$s,[e("label",hs,l(n.$t("config.nvenc_twopass")),1),u(e("select",{id:"nvenc_twopass",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.nvenc_twopass=s)},[e("option",bs,l(n.$t("config.nvenc_twopass_disabled")),1),e("option",ys,l(n.$t("config.nvenc_twopass_quarter_res")),1),e("option",ws,l(n.$t("config.nvenc_twopass_full_res")),1)],512),[[h,t.value.nvenc_twopass]]),e("div",Vs,l(n.$t("config.nvenc_twopass_desc")),1)]),g($,{class:"mb-3",id:"nvenc_spatial_aq","locale-prefix":"config",modelValue:t.value.nvenc_spatial_aq,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.nvenc_spatial_aq=s),default:"false"},null,8,["modelValue"]),e("div",ks,[e("label",Us,l(n.$t("config.nvenc_vbv_increase")),1),u(e("input",{type:"number",min:"0",max:"400",class:"form-control",id:"nvenc_vbv_increase",placeholder:"0","onUpdate:modelValue":o[3]||(o[3]=s=>t.value.nvenc_vbv_increase=s)},null,512),[[f,t.value.nvenc_vbv_increase]]),e("div",qs,[v(l(n.$t("config.nvenc_vbv_increase_desc")),1),o[9]||(o[9]=e("br",null,null,-1)),o[10]||(o[10]=e("br",null,null,-1)),o[11]||(o[11]=e("a",{href:"https://en.wikipedia.org/wiki/Video_buffering_verifier"},"VBV/HRD",-1))])]),e("div",Ss,[e("div",Os,[e("h2",Es,[e("button",Ds,l(n.$t("config.misc")),1)]),e("div",Ns,[e("div",Is,[a.platform==="windows"?(d(),w($,{key:0,class:"mb-3",id:"nvenc_realtime_hags","locale-prefix":"config",modelValue:t.value.nvenc_realtime_hags,"onUpdate:modelValue":o[4]||(o[4]=s=>t.value.nvenc_realtime_hags=s),default:"true"},{default:b(()=>o[12]||(o[12]=[e("br",null,null,-1),e("br",null,null,-1),e("a",{href:"https://devblogs.microsoft.com/directx/hardware-accelerated-gpu-scheduling/"},"HAGS",-1)])),_:1,__:[12]},8,["modelValue"])):c("",!0),a.platform==="windows"?(d(),w($,{key:1,class:"mb-3",id:"nvenc_latency_over_power","locale-prefix":"config",modelValue:t.value.nvenc_latency_over_power,"onUpdate:modelValue":o[5]||(o[5]=s=>t.value.nvenc_latency_over_power=s),default:"true"},null,8,["modelValue"])):c("",!0),a.platform==="windows"?(d(),w($,{key:2,class:"mb-3",id:"nvenc_opengl_vulkan_on_dxgi","locale-prefix":"config",modelValue:t.value.nvenc_opengl_vulkan_on_dxgi,"onUpdate:modelValue":o[6]||(o[6]=s=>t.value.nvenc_opengl_vulkan_on_dxgi=s),default:"true"},null,8,["modelValue"])):c("",!0),g($,{class:"mb-3",id:"nvenc_h264_cavlc","locale-prefix":"config",modelValue:t.value.nvenc_h264_cavlc,"onUpdate:modelValue":o[7]||(o[7]=s=>t.value.nvenc_h264_cavlc=s),default:"false"},null,8,["modelValue"])])])])])]))}},As={id:"intel-quicksync-encoder",class:"config-page"},Ts={class:"mb-3"},Cs={for:"qsv_preset",class:"form-label"},Gs={value:"veryfast"},Rs={value:"faster"},Bs={value:"fast"},js={value:"medium"},Ms={value:"slow"},Js={value:"slower"},zs={value:"slowest"},Hs={class:"mb-3"},Fs={for:"qsv_coder",class:"form-label"},Ls={value:"auto"},Ks={value:"cabac"},Qs={value:"cavlc"},Ys={__name:"IntelQuickSyncEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",As,[e("div",Ts,[e("label",Cs,l(n.$t("config.qsv_preset")),1),u(e("select",{id:"qsv_preset",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.qsv_preset=s)},[e("option",Gs,l(n.$t("config.qsv_preset_veryfast")),1),e("option",Rs,l(n.$t("config.qsv_preset_faster")),1),e("option",Bs,l(n.$t("config.qsv_preset_fast")),1),e("option",js,l(n.$t("config.qsv_preset_medium")),1),e("option",Ms,l(n.$t("config.qsv_preset_slow")),1),e("option",Js,l(n.$t("config.qsv_preset_slower")),1),e("option",zs,l(n.$t("config.qsv_preset_slowest")),1)],512),[[h,t.value.qsv_preset]])]),e("div",Hs,[e("label",Fs,l(n.$t("config.qsv_coder")),1),u(e("select",{id:"qsv_coder",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.qsv_coder=s)},[e("option",Ls,l(n.$t("config.ffmpeg_auto")),1),e("option",Ks,l(n.$t("config.coder_cabac")),1),e("option",Qs,l(n.$t("config.coder_cavlc")),1)],512),[[h,t.value.qsv_coder]])]),g($,{class:"mb-3",id:"qsv_slow_hevc","locale-prefix":"config",modelValue:t.value.qsv_slow_hevc,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.qsv_slow_hevc=s),default:"false"},null,8,["modelValue"])]))}},Ws={id:"amd-amf-encoder",class:"config-page"},Xs={class:"mb-3"},Zs={for:"amd_usage",class:"form-label"},xs={value:"transcoding"},en={value:"webcam"},on={value:"lowlatency_high_quality"},tn={value:"lowlatency"},ln={value:"ultralowlatency"},sn={class:"form-text"},nn={class:"mb-3 accordion"},an={class:"accordion-item"},dn={class:"accordion-header"},rn={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne"},un={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},_n={class:"accordion-body"},cn={class:"mb-3"},pn={for:"amd_rc",class:"form-label"},fn={value:"cbr"},mn={value:"cqp"},vn={value:"vbr_latency"},gn={value:"vbr_peak"},$n={class:"form-text"},hn={class:"mb-3 accordion"},bn={class:"accordion-item"},yn={class:"accordion-header"},wn={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo"},Vn={id:"panelsStayOpen-collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingTwo"},kn={class:"accordion-body"},Un={class:"mb-3"},qn={for:"amd_quality",class:"form-label"},Sn={value:"speed"},On={value:"balanced"},En={value:"quality"},Dn={class:"form-text"},Nn={class:"mb-3"},In={for:"amd_coder",class:"form-label"},Pn={value:"auto"},An={value:"cabac"},Tn={value:"cavlc"},Cn={class:"form-text"},Gn={__name:"AmdAmfEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",Ws,[e("div",Xs,[e("label",Zs,l(n.$t("config.amd_usage")),1),u(e("select",{id:"amd_usage",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.amd_usage=s)},[e("option",xs,l(n.$t("config.amd_usage_transcoding")),1),e("option",en,l(n.$t("config.amd_usage_webcam")),1),e("option",on,l(n.$t("config.amd_usage_lowlatency_high_quality")),1),e("option",tn,l(n.$t("config.amd_usage_lowlatency")),1),e("option",ln,l(n.$t("config.amd_usage_ultralowlatency")),1)],512),[[h,t.value.amd_usage]]),e("div",sn,l(n.$t("config.amd_usage_desc")),1)]),e("div",nn,[e("div",an,[e("h2",dn,[e("button",rn,l(n.$t("config.amd_rc_group")),1)]),e("div",un,[e("div",_n,[e("div",cn,[e("label",pn,l(n.$t("config.amd_rc")),1),u(e("select",{id:"amd_rc",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.amd_rc=s)},[e("option",fn,l(n.$t("config.amd_rc_cbr")),1),e("option",mn,l(n.$t("config.amd_rc_cqp")),1),e("option",vn,l(n.$t("config.amd_rc_vbr_latency")),1),e("option",gn,l(n.$t("config.amd_rc_vbr_peak")),1)],512),[[h,t.value.amd_rc]]),e("div",$n,l(n.$t("config.amd_rc_desc")),1)]),g($,{class:"mb-3",id:"amd_enforce_hrd","locale-prefix":"config",modelValue:t.value.amd_enforce_hrd,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.amd_enforce_hrd=s),default:"false"},null,8,["modelValue"])])])])]),e("div",hn,[e("div",bn,[e("h2",yn,[e("button",wn,l(n.$t("config.amd_quality_group")),1)]),e("div",Vn,[e("div",kn,[e("div",Un,[e("label",qn,l(n.$t("config.amd_quality")),1),u(e("select",{id:"amd_quality",class:"form-select","onUpdate:modelValue":o[3]||(o[3]=s=>t.value.amd_quality=s)},[e("option",Sn,l(n.$t("config.amd_quality_speed")),1),e("option",On,l(n.$t("config.amd_quality_balanced")),1),e("option",En,l(n.$t("config.amd_quality_quality")),1)],512),[[h,t.value.amd_quality]]),e("div",Dn,l(n.$t("config.amd_quality_desc")),1)]),g($,{class:"mb-3",id:"amd_preanalysis","locale-prefix":"config",modelValue:t.value.amd_preanalysis,"onUpdate:modelValue":o[4]||(o[4]=s=>t.value.amd_preanalysis=s),default:"false"},null,8,["modelValue"]),g($,{class:"mb-3",id:"amd_vbaq","locale-prefix":"config",modelValue:t.value.amd_vbaq,"onUpdate:modelValue":o[5]||(o[5]=s=>t.value.amd_vbaq=s),default:"true"},null,8,["modelValue"]),e("div",Nn,[e("label",In,l(n.$t("config.amd_coder")),1),u(e("select",{id:"amd_coder",class:"form-select","onUpdate:modelValue":o[6]||(o[6]=s=>t.value.amd_coder=s)},[e("option",Pn,l(n.$t("config.ffmpeg_auto")),1),e("option",An,l(n.$t("config.coder_cabac")),1),e("option",Tn,l(n.$t("config.coder_cavlc")),1)],512),[[h,t.value.amd_coder]]),e("div",Cn,l(n.$t("config.amd_coder_desc")),1)])])])])])]))}},Rn={id:"videotoolbox-encoder",class:"config-page"},Bn={class:"mb-3"},jn={for:"vt_coder",class:"form-label"},Mn={value:"auto"},Jn={value:"cabac"},zn={value:"cavlc"},Hn={class:"mb-3"},Fn={for:"vt_software",class:"form-label"},Ln={value:"auto"},Kn={value:"disabled"},Qn={value:"allowed"},Yn={value:"forced"},Wn={__name:"VideotoolboxEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",Rn,[e("div",Bn,[e("label",jn,l(n.$t("config.vt_coder")),1),u(e("select",{id:"vt_coder",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.vt_coder=s)},[e("option",Mn,l(n.$t("config.ffmpeg_auto")),1),e("option",Jn,l(n.$t("config.coder_cabac")),1),e("option",zn,l(n.$t("config.coder_cavlc")),1)],512),[[h,t.value.vt_coder]])]),e("div",Hn,[e("label",Fn,l(n.$t("config.vt_software")),1),u(e("select",{id:"vt_software",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.vt_software=s)},[e("option",Ln,l(n.$t("_common.auto")),1),e("option",Kn,l(n.$t("_common.disabled")),1),e("option",Qn,l(n.$t("config.vt_software_allowed")),1),e("option",Yn,l(n.$t("config.vt_software_forced")),1)],512),[[h,t.value.vt_software]])]),g($,{class:"mb-3",id:"vt_realtime",desc:"","locale-prefix":"config",modelValue:t.value.vt_realtime,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.vt_realtime=s),default:"true"},null,8,["modelValue"])]))}},Xn={id:"software-encoder",class:"config-page"},Zn={class:"mb-3"},xn={for:"sw_preset",class:"form-label"},ea={value:"ultrafast"},oa={value:"superfast"},ta={value:"veryfast"},la={value:"faster"},sa={value:"fast"},na={value:"medium"},aa={value:"slow"},ia={value:"slower"},da={value:"veryslow"},ra={class:"form-text"},ua={class:"mb-3"},_a={for:"sw_tune",class:"form-label"},ca={value:"film"},pa={value:"animation"},fa={value:"grain"},ma={value:"stillimage"},va={value:"fastdecode"},ga={value:"zerolatency"},$a={class:"form-text"},ha={__name:"SoftwareEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",Xn,[e("div",Zn,[e("label",xn,l(n.$t("config.sw_preset")),1),u(e("select",{id:"sw_preset",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.sw_preset=s)},[e("option",ea,l(n.$t("config.sw_preset_ultrafast")),1),e("option",oa,l(n.$t("config.sw_preset_superfast")),1),e("option",ta,l(n.$t("config.sw_preset_veryfast")),1),e("option",la,l(n.$t("config.sw_preset_faster")),1),e("option",sa,l(n.$t("config.sw_preset_fast")),1),e("option",na,l(n.$t("config.sw_preset_medium")),1),e("option",aa,l(n.$t("config.sw_preset_slow")),1),e("option",ia,l(n.$t("config.sw_preset_slower")),1),e("option",da,l(n.$t("config.sw_preset_veryslow")),1)],512),[[h,t.value.sw_preset]]),e("div",ra,l(n.$t("config.sw_preset_desc")),1)]),e("div",ua,[e("label",_a,l(n.$t("config.sw_tune")),1),u(e("select",{id:"sw_tune",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.sw_tune=s)},[e("option",ca,l(n.$t("config.sw_tune_film")),1),e("option",pa,l(n.$t("config.sw_tune_animation")),1),e("option",fa,l(n.$t("config.sw_tune_grain")),1),e("option",ma,l(n.$t("config.sw_tune_stillimage")),1),e("option",va,l(n.$t("config.sw_tune_fastdecode")),1),e("option",ga,l(n.$t("config.sw_tune_zerolatency")),1)],512),[[h,t.value.sw_tune]]),e("div",$a,l(n.$t("config.sw_tune_desc")),1)])]))}},ba={id:"vaapi-encoder",class:"config-page"},ya={__name:"VAAPIEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(n,o)=>(d(),_("div",ba,[g($,{class:"mb-3",id:"vaapi_strict_rc_buffer","locale-prefix":"config",modelValue:t.value.vaapi_strict_rc_buffer,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.vaapi_strict_rc_buffer=s),default:"false"},null,8,["modelValue"])]))}},wa={__name:"ContainerEncoders",props:["platform","config","currentTab"],setup(a){const t=y(a.config);return(n,o)=>(d(),_(V,null,[a.currentTab==="nv"?(d(),w(Ps,{key:0,platform:a.platform,config:t.value},null,8,["platform","config"])):c("",!0),a.currentTab==="qsv"?(d(),w(Ys,{key:1,platform:a.platform,config:t.value},null,8,["platform","config"])):c("",!0),a.currentTab==="amd"?(d(),w(Gn,{key:2,platform:a.platform,config:t.value},null,8,["platform","config"])):c("",!0),a.currentTab==="vt"?(d(),w(Wn,{key:3,platform:a.platform,config:t.value},null,8,["platform","config"])):c("",!0),a.currentTab==="vaapi"?(d(),w(ya,{key:4,platform:a.platform,config:t.value},null,8,["platform","config"])):c("",!0),a.currentTab==="sw"?(d(),w(ha,{key:5,platform:a.platform,config:t.value},null,8,["platform","config"])):c("",!0)],64))}},Va=B({components:{Navbar:M,General:ve,Inputs:Je,Network:No,Files:Xo,Advanced:It,AudioVideo:_s,ContainerEncoders:wa},data(){return{platform:"",saved:!1,restarted:!1,saving:!1,appliedNow:!1,deferred:!1,restartRequired:!1,config:null,currentTab:"general",initialized:!1,userChanged:!1,_autoSaveTimer:null,_statusClearTimer:null,restartGatedKeys:["port","address_family","origin_web_ui_allowed","capture","encoder","install_steam_audio_drivers"],serverBaseline:{},restartGatedDirty:{},pendingRestartSave:!1,tabs:[{id:"general",name:"General",options:{locale:"en",sunshine_name:"",min_log_level:2,global_prep_cmd:[],notify_pre_releases:"disabled"}},{id:"input",name:"Input",options:{controller:"enabled",gamepad:"auto",ds4_back_as_touchpad_click:"enabled",motion_as_ds4:"enabled",touchpad_as_ds4:"enabled",back_button_timeout:-1,keyboard:"enabled",key_repeat_delay:500,key_repeat_frequency:24.9,always_send_scancodes:"enabled",key_rightalt_to_key_win:"disabled",mouse:"enabled",high_resolution_scrolling:"enabled",native_pen_touch:"enabled",keybindings:"[0x10,0xA0,0x11,0xA2,0x12,0xA4]"}},{id:"av",name:"Audio/Video",options:{audio_sink:"",virtual_sink:"",install_steam_audio_drivers:"enabled",adapter_name:"",output_name:"",dd_configuration_option:"disabled",dd_resolution_option:"auto",dd_manual_resolution:"",dd_refresh_rate_option:"auto",dd_manual_refresh_rate:"",dd_hdr_option:"auto",dd_config_revert_delay:3e3,dd_config_revert_on_disconnect:"disabled",dd_mode_remapping:{mixed:[],resolution_only:[],refresh_rate_only:[]},dd_wa_hdr_toggle_delay:0,max_bitrate:0,minimum_fps_target:0}},{id:"network",name:"Network",options:{upnp:"disabled",address_family:"ipv4",port:47989,origin_web_ui_allowed:"lan",external_ip:"",lan_encryption_mode:0,wan_encryption_mode:1,ping_timeout:1e4}},{id:"files",name:"Config Files",options:{file_apps:"",credentials_file:"",log_path:"",pkey:"",cert:"",file_state:""}},{id:"advanced",name:"Advanced",options:{fec_percentage:20,qp:28,min_threads:2,hevc_mode:0,av1_mode:0,capture:"",encoder:""}},{id:"nv",name:"NVIDIA NVENC Encoder",options:{nvenc_preset:1,nvenc_twopass:"quarter_res",nvenc_spatial_aq:"disabled",nvenc_vbv_increase:0,nvenc_realtime_hags:"enabled",nvenc_latency_over_power:"enabled",nvenc_opengl_vulkan_on_dxgi:"enabled",nvenc_h264_cavlc:"disabled"}},{id:"qsv",name:"Intel QuickSync Encoder",options:{qsv_preset:"medium",qsv_coder:"auto",qsv_slow_hevc:"disabled"}},{id:"amd",name:"AMD AMF Encoder",options:{amd_usage:"ultralowlatency",amd_rc:"vbr_latency",amd_enforce_hrd:"disabled",amd_quality:"balanced",amd_preanalysis:"disabled",amd_vbaq:"enabled",amd_coder:"auto"}},{id:"vt",name:"VideoToolbox Encoder",options:{vt_coder:"auto",vt_software:"auto",vt_realtime:"enabled"}},{id:"vaapi",name:"VA-API Encoder",options:{vaapi_strict_rc_buffer:"disabled"}},{id:"sw",name:"Software Encoder",options:{sw_preset:"superfast",sw_tune:"zerolatency"}}]}},provide(){return{platform:G(()=>this.platform)}},created(){fetch("./api/config").then(a=>a.json()).then(a=>{this.config=a,this.platform=this.config.platform,document.getElementById("app"),this.platform==="windows"&&(this.tabs=this.tabs.filter(t=>t.id!=="vt"&&t.id!=="vaapi")),this.platform==="linux"&&(this.tabs=this.tabs.filter(t=>t.id!=="amd"&&t.id!=="qsv"&&t.id!=="vt")),this.platform==="macos"&&(this.tabs=this.tabs.filter(t=>t.id!=="amd"&&t.id!=="nv"&&t.id!=="qsv"&&t.id!=="vaapi")),delete this.config.platform,delete this.config.status,delete this.config.version;const p=["dd_mode_remapping","global_prep_cmd"];for(const t of p)this.config.hasOwnProperty(t)&&(this.config[t]=JSON.parse(this.config[t]));this.tabs.forEach(t=>{Object.keys(t.options).forEach(n=>{this.config[n]===void 0&&(this.config[n]=JSON.parse(JSON.stringify(t.options[n])))})}),this.serverBaseline=this.serialize(),this.initialized=!0})},methods:{forceUpdate(){this.$forceUpdate()},serialize(){return JSON.parse(JSON.stringify(this.config))},deepCopy(a){return JSON.parse(JSON.stringify(a))},manualSave(){this.save({includeRestartGated:!0})},onStatusClick(){if(!this.restartRequired)return;const a=document.getElementById("restart-apply-button");a&&(a.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{a.classList.add("pulse-highlight"),a.focus({preventScroll:!0}),setTimeout(()=>a.classList.remove("pulse-highlight"),2500)},350))},scheduleAutoSave(){this.userChanged&&(this._autoSaveTimer&&clearTimeout(this._autoSaveTimer),this._autoSaveTimer=setTimeout(()=>{this.save({includeRestartGated:!1})},600))},save(a={includeRestartGated:!0}){this.saved=!1,this.restarted=!1,this.appliedNow=!1,this.deferred=!1,this.restartRequired=!1,this.saving=!0;let p=this.serialize();this.tabs.forEach(n=>{Object.keys(n.options).forEach(o=>{let s=!1;JSON.stringify(p[o])===JSON.stringify(n.options[o])&&(s=!0),s&&delete p[o]})}),!a.includeRestartGated&&this.pendingRestartSave&&Object.keys(this.restartGatedDirty).forEach(n=>{delete p[n]});const t=Object.keys(p);return t.length===0?(this.saving=!1,this.appliedNow=!1,this.restartGatedDirty={},this.restartGatedKeys.forEach(n=>{JSON.stringify(this.config[n])!==JSON.stringify(this.serverBaseline[n])&&(this.restartGatedDirty[n]=!0)}),this.pendingRestartSave=Object.keys(this.restartGatedDirty).length>0,Promise.resolve(!0)):fetch("./api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then(async n=>{if(n.status!==200)return this.saving=!1,!1;try{const o=await n.json();this.appliedNow=!!o.appliedNow,this.deferred=!!o.deferred,this.restartRequired=!!o.restartRequired}catch{}return this.saving=!1,this.userChanged=!1,a.includeRestartGated?this.serverBaseline=this.serialize():t.forEach(o=>{o in this.restartGatedDirty||(this.serverBaseline[o]=this.deepCopy(this.config[o]))}),this.restartGatedDirty={},this.restartGatedKeys.forEach(o=>{JSON.stringify(this.config[o])!==JSON.stringify(this.serverBaseline[o])&&(this.restartGatedDirty[o]=!0)}),this.pendingRestartSave=Object.keys(this.restartGatedDirty).length>0,!0})},apply(){this.saved=this.restarted=!1,this.save().then(p=>{p===!0&&(this.restarted=!0,setTimeout(()=>{this.saved=this.restarted=!1},5e3),fetch("./api/restart",{method:"POST",headers:{"Content-Type":"application/json"}}))})}},watch:{config:{deep:!0,handler(){this.initialized&&(this.restartGatedDirty={},this.restartGatedKeys.forEach(a=>{JSON.stringify(this.config[a])!==JSON.stringify(this.serverBaseline[a])&&(this.restartGatedDirty[a]=!0)}),this.pendingRestartSave=Object.keys(this.restartGatedDirty).length>0,this.scheduleAutoSave())}}},mounted(){const a=()=>{this.userChanged=!0},p=document.querySelector(".container");p&&(p.addEventListener("input",a,{passive:!0}),p.addEventListener("change",a,{passive:!0}));const t=()=>{let n=window.location.hash;if(n){let o=n.substring(1);this.tabs.forEach(s=>{Object.keys(s.options).forEach(i=>{if((s.id===o||i===o)&&(this.currentTab=s.id),i===o&&setTimeout(()=>{document.getElementById(o)&&(window.location.hash=n)},2e3),this.currentTab===s.id)return!0})})}};t(),window.addEventListener("hashchange",t)},computed:{statusClass(){return this.saving?"status-saving":this.restartRequired||this.pendingRestartSave?"status-deferred":this.appliedNow?"status-applied":this.deferred?"status-deferred":"status-waiting"},statusText(){return this.saving?this.$t("config.saving"):this.restartRequired?this.$t("config.restart_required"):this.pendingRestartSave&&!this.saving?this.$t("config.manual_save_needed"):this.appliedNow?this.$t("config.saved_success"):this.deferred?this.$t("config.saved_deferred"):this.$t("config.waiting_for_changes")}}});j(Va);
