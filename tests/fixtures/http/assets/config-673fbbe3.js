import{r as y,a as _,d as e,t as s,w as u,v as $,e as R,f as m,g as v,h as p,F as k,j as P,k as g,o as r,l as O,m as b,n as w,p as C,q as A,u as E,_ as G,c as B,i as z}from"./_plugin-vue_export-helper-050a01a0.js";import{N as M}from"./Navbar-4a0ff179.js";import{_ as h}from"./Checkbox-a17287d1.js";const j={id:"general",class:"config-page"},H={class:"mb-3"},L={for:"locale",class:"form-label"},J={class:"form-text"},K={class:"mb-3"},F={for:"sunshine_name",class:"form-label"},Q={class:"form-text"},W={class:"mb-3"},X={for:"min_log_level",class:"form-label"},Y={value:"0"},Z={value:"1"},x={value:"2"},ee={value:"3"},oe={value:"4"},te={value:"5"},se={value:"6"},le={class:"form-text"},ne={id:"global_prep_cmd",class:"mb-3 d-flex flex-column"},ae={class:"form-label"},ie={class:"form-text"},de={key:0,class:"table"},re={scope:"col"},ce={scope:"col"},ue={key:0,scope:"col"},_e=["onUpdate:modelValue"],pe=["onUpdate:modelValue"],fe={key:0,class:"align-middle"},me=["onClick"],ve={__name:"General",props:{platform:String,config:Object},setup(a){const d=a,t=y(d.config);function l(){let n={do:"",undo:""};d.platform==="windows"&&(n={...n,elevated:!1}),t.value.global_prep_cmd.push(n)}function o(n){t.value.global_prep_cmd.splice(n,1)}return(n,i)=>(r(),_("div",j,[e("div",H,[e("label",L,s(n.$t("config.locale")),1),u(e("select",{id:"locale",class:"form-select","onUpdate:modelValue":i[0]||(i[0]=c=>t.value.locale=c)},i[4]||(i[4]=[R('<option value="bg">Български (Bulgarian)</option><option value="cs">Čeština (Czech)</option><option value="de">Deutsch (German)</option><option value="en">English</option><option value="en_GB">English, UK</option><option value="en_US">English, US</option><option value="es">Español (Spanish)</option><option value="fr">Français (French)</option><option value="it">Italiano (Italian)</option><option value="ja">日本語 (Japanese)</option><option value="ko">한국어 (Korean)</option><option value="pl">Polski (Polish)</option><option value="pt">Português (Portuguese)</option><option value="pt_BR">Português, Brasileiro (Portuguese, Brazilian)</option><option value="ru">Русский (Russian)</option><option value="sv">svenska (Swedish)</option><option value="tr">Türkçe (Turkish)</option><option value="uk">Українська (Ukranian)</option><option value="zh">简体中文 (Chinese Simplified)</option><option value="zh_TW">繁體中文 (Chinese Traditional)</option>',20)]),512),[[$,t.value.locale]]),e("div",J,s(n.$t("config.locale_desc")),1)]),e("div",K,[e("label",F,s(n.$t("config.sunshine_name")),1),u(e("input",{type:"text",class:"form-control",id:"sunshine_name",placeholder:"Sunshine","onUpdate:modelValue":i[1]||(i[1]=c=>t.value.sunshine_name=c)},null,512),[[m,t.value.sunshine_name]]),e("div",Q,s(n.$t("config.sunshine_name_desc")),1)]),e("div",W,[e("label",X,s(n.$t("config.log_level")),1),u(e("select",{id:"min_log_level",class:"form-select","onUpdate:modelValue":i[2]||(i[2]=c=>t.value.min_log_level=c)},[e("option",Y,s(n.$t("config.log_level_0")),1),e("option",Z,s(n.$t("config.log_level_1")),1),e("option",x,s(n.$t("config.log_level_2")),1),e("option",ee,s(n.$t("config.log_level_3")),1),e("option",oe,s(n.$t("config.log_level_4")),1),e("option",te,s(n.$t("config.log_level_5")),1),e("option",se,s(n.$t("config.log_level_6")),1)],512),[[$,t.value.min_log_level]]),e("div",le,s(n.$t("config.log_level_desc")),1)]),e("div",ne,[e("label",ae,s(n.$t("config.global_prep_cmd")),1),e("div",ie,s(n.$t("config.global_prep_cmd_desc")),1),t.value.global_prep_cmd.length>0?(r(),_("table",de,[e("thead",null,[e("tr",null,[e("th",re,[i[5]||(i[5]=e("i",{class:"fas fa-play"},null,-1)),v(" "+s(n.$t("_common.do_cmd")),1)]),e("th",ce,[i[6]||(i[6]=e("i",{class:"fas fa-undo"},null,-1)),v(" "+s(n.$t("_common.undo_cmd")),1)]),a.platform==="windows"?(r(),_("th",ue,[i[7]||(i[7]=e("i",{class:"fas fa-shield-alt"},null,-1)),v(" "+s(n.$t("_common.run_as")),1)])):p("",!0),i[8]||(i[8]=e("th",{scope:"col"},null,-1))])]),e("tbody",null,[(r(!0),_(k,null,P(t.value.global_prep_cmd,(c,f)=>(r(),_("tr",null,[e("td",null,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":V=>c.do=V},null,8,_e),[[m,c.do]])]),e("td",null,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":V=>c.undo=V},null,8,pe),[[m,c.undo]])]),a.platform==="windows"?(r(),_("td",fe,[g(h,{id:"prep-cmd-admin-"+f,label:"_common.elevated",desc:"",modelValue:c.elevated,"onUpdate:modelValue":V=>c.elevated=V},null,8,["id","modelValue","onUpdate:modelValue"])])):p("",!0),e("td",null,[e("button",{class:"btn btn-danger",onClick:V=>o(f)},i[9]||(i[9]=[e("i",{class:"fas fa-trash"},null,-1)]),8,me),e("button",{class:"btn btn-success",onClick:l},i[10]||(i[10]=[e("i",{class:"fas fa-plus"},null,-1)]))])]))),256))])])):p("",!0),e("button",{class:"ms-0 mt-2 btn btn-success",style:{margin:"0 auto"},onClick:l}," + "+s(n.$t("config.add")),1)]),g(h,{class:"mb-3",id:"notify_pre_releases","locale-prefix":"config",modelValue:t.value.notify_pre_releases,"onUpdate:modelValue":i[3]||(i[3]=c=>t.value.notify_pre_releases=c),default:"false"},null,8,["modelValue"])]))}},S={__name:"PlatformLayout",props:{platform:{type:String,required:!0}},setup(a){return(d,t)=>(r(),_(k,null,[d.$slots.windows&&a.platform==="windows"?O(d.$slots,"windows",{key:0}):p("",!0),d.$slots.linux&&a.platform==="linux"?O(d.$slots,"linux",{key:1}):p("",!0),d.$slots.macos&&a.platform==="macos"?O(d.$slots,"macos",{key:2}):p("",!0)],64))}},ge={id:"input",class:"config-page"},he={key:0,class:"mb-3"},$e={for:"gamepad",class:"form-label"},be={value:"auto"},ye={value:"ds5"},we={value:"switch"},Ve={value:"xone"},ke={value:"ds4"},Ue={value:"x360"},Se={class:"form-text"},qe={key:0,class:"mb-3 accordion"},Te={class:"accordion-item"},Ee={class:"accordion-header"},Ie={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne"},Oe={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},De={class:"accordion-body"},Ae={key:2,class:"mb-3"},Ne={for:"back_button_timeout",class:"form-label"},Re={class:"form-text"},Pe={key:3,class:"mb-3"},Ce={for:"key_repeat_delay",class:"form-label"},Ge={class:"form-text"},Be={key:4,class:"mb-3"},ze={for:"key_repeat_frequency",class:"form-label"},Me={class:"form-text"},je={__name:"Inputs",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",ge,[g(h,{class:"mb-3",id:"controller","locale-prefix":"config",modelValue:t.value.controller,"onUpdate:modelValue":o[0]||(o[0]=n=>t.value.controller=n),default:"true"},null,8,["modelValue"]),t.value.controller==="enabled"&&a.platform!=="macos"?(r(),_("div",he,[e("label",$e,s(l.$t("config.gamepad")),1),u(e("select",{id:"gamepad",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.gamepad=n)},[e("option",be,s(l.$t("_common.auto")),1),g(S,{platform:a.platform},{linux:b(()=>[e("option",ye,s(l.$t("config.gamepad_ds5")),1),e("option",we,s(l.$t("config.gamepad_switch")),1),e("option",Ve,s(l.$t("config.gamepad_xone")),1)]),windows:b(()=>[e("option",ke,s(l.$t("config.gamepad_ds4")),1),e("option",Ue,s(l.$t("config.gamepad_x360")),1)]),_:1},8,["platform"])],512),[[$,t.value.gamepad]]),e("div",Se,s(l.$t("config.gamepad_desc")),1)])):p("",!0),t.value.controller==="enabled"?(r(),_(k,{key:1},[t.value.gamepad==="ds4"||t.value.gamepad==="auto"&&a.platform==="windows"?(r(),_("div",qe,[e("div",Te,[e("h2",Ee,[e("button",Ie,s(l.$t(t.value.gamepad==="ds4"?"config.gamepad_ds4_manual":"config.gamepad_auto")),1)]),e("div",Oe,[e("div",De,[t.value.gamepad==="auto"?(r(),_(k,{key:0},[g(h,{class:"mb-3",id:"motion_as_ds4","locale-prefix":"config",modelValue:t.value.motion_as_ds4,"onUpdate:modelValue":o[2]||(o[2]=n=>t.value.motion_as_ds4=n),default:"true"},null,8,["modelValue"]),g(h,{class:"mb-3",id:"touchpad_as_ds4","locale-prefix":"config",modelValue:t.value.touchpad_as_ds4,"onUpdate:modelValue":o[3]||(o[3]=n=>t.value.touchpad_as_ds4=n),default:"true"},null,8,["modelValue"])],64)):p("",!0),t.value.gamepad==="ds4"?(r(),w(h,{key:1,class:"mb-3",id:"ds4_back_as_touchpad_click","locale-prefix":"config",modelValue:t.value.ds4_back_as_touchpad_click,"onUpdate:modelValue":o[4]||(o[4]=n=>t.value.ds4_back_as_touchpad_click=n),default:"true"},null,8,["modelValue"])):p("",!0)])])])])):p("",!0)],64)):p("",!0),t.value.controller==="enabled"?(r(),_("div",Ae,[e("label",Ne,s(l.$t("config.back_button_timeout")),1),u(e("input",{type:"text",class:"form-control",id:"back_button_timeout",placeholder:"-1","onUpdate:modelValue":o[5]||(o[5]=n=>t.value.back_button_timeout=n)},null,512),[[m,t.value.back_button_timeout]]),e("div",Re,s(l.$t("config.back_button_timeout_desc")),1)])):p("",!0),o[14]||(o[14]=e("hr",null,null,-1)),g(h,{class:"mb-3",id:"keyboard","locale-prefix":"config",modelValue:t.value.keyboard,"onUpdate:modelValue":o[6]||(o[6]=n=>t.value.keyboard=n),default:"true"},null,8,["modelValue"]),t.value.keyboard==="enabled"&&a.platform==="windows"?(r(),_("div",Pe,[e("label",Ce,s(l.$t("config.key_repeat_delay")),1),u(e("input",{type:"text",class:"form-control",id:"key_repeat_delay",placeholder:"500","onUpdate:modelValue":o[7]||(o[7]=n=>t.value.key_repeat_delay=n)},null,512),[[m,t.value.key_repeat_delay]]),e("div",Ge,s(l.$t("config.key_repeat_delay_desc")),1)])):p("",!0),t.value.keyboard==="enabled"&&a.platform==="windows"?(r(),_("div",Be,[e("label",ze,s(l.$t("config.key_repeat_frequency")),1),u(e("input",{type:"text",class:"form-control",id:"key_repeat_frequency",placeholder:"24.9","onUpdate:modelValue":o[8]||(o[8]=n=>t.value.key_repeat_frequency=n)},null,512),[[m,t.value.key_repeat_frequency]]),e("div",Me,s(l.$t("config.key_repeat_frequency_desc")),1)])):p("",!0),t.value.keyboard==="enabled"&&a.platform==="windows"?(r(),w(h,{key:5,class:"mb-3",id:"always_send_scancodes","locale-prefix":"config",modelValue:t.value.always_send_scancodes,"onUpdate:modelValue":o[9]||(o[9]=n=>t.value.always_send_scancodes=n),default:"true"},null,8,["modelValue"])):p("",!0),t.value.keyboard==="enabled"?(r(),w(h,{key:6,class:"mb-3",id:"key_rightalt_to_key_win","locale-prefix":"config",modelValue:t.value.key_rightalt_to_key_win,"onUpdate:modelValue":o[10]||(o[10]=n=>t.value.key_rightalt_to_key_win=n),default:"false"},null,8,["modelValue"])):p("",!0),o[15]||(o[15]=e("hr",null,null,-1)),g(h,{class:"mb-3",id:"mouse","locale-prefix":"config",modelValue:t.value.mouse,"onUpdate:modelValue":o[11]||(o[11]=n=>t.value.mouse=n),default:"true"},null,8,["modelValue"]),t.value.mouse==="enabled"?(r(),w(h,{key:7,class:"mb-3",id:"high_resolution_scrolling","locale-prefix":"config",modelValue:t.value.high_resolution_scrolling,"onUpdate:modelValue":o[12]||(o[12]=n=>t.value.high_resolution_scrolling=n),default:"true"},null,8,["modelValue"])):p("",!0),t.value.mouse==="enabled"?(r(),w(h,{key:8,class:"mb-3",id:"native_pen_touch","locale-prefix":"config",modelValue:t.value.native_pen_touch,"onUpdate:modelValue":o[13]||(o[13]=n=>t.value.native_pen_touch=n),default:"true"},null,8,["modelValue"])):p("",!0)]))}},He={id:"network",class:"config-page"},Le={class:"mb-3"},Je={for:"address_family",class:"form-label"},Ke={value:"ipv4"},Fe={value:"both"},Qe={class:"form-text"},We={class:"mb-3"},Xe={for:"port",class:"form-label"},Ye={class:"form-text"},Ze={key:0,class:"alert alert-danger"},xe={key:1,class:"alert alert-danger"},eo={class:"table"},oo={scope:"col"},to={scope:"col"},so={scope:"col"},lo={key:0,class:"alert alert-primary",role:"alert"},no={key:2,class:"alert alert-warning"},ao={class:"mb-3"},io={for:"origin_web_ui_allowed",class:"form-label"},ro={value:"pc"},co={value:"lan"},uo={value:"wan"},_o={class:"form-text"},po={class:"mb-3"},fo={for:"external_ip",class:"form-label"},mo={class:"form-text"},vo={class:"mb-3"},go={for:"lan_encryption_mode",class:"form-label"},ho={value:"0"},$o={value:"1"},bo={value:"2"},yo={class:"form-text"},wo={class:"mb-3"},Vo={for:"wan_encryption_mode",class:"form-label"},ko={value:"0"},Uo={value:"1"},So={value:"2"},qo={class:"form-text"},To={class:"mb-3"},Eo={for:"ping_timeout",class:"form-label"},Io={class:"form-text"},N=47989,Oo={__name:"Network",props:["platform","config"],setup(a){const t=y(a.config),l=C(()=>{var o;return+((o=t.value)==null?void 0:o.port)});return(o,n)=>(r(),_("div",He,[g(h,{class:"mb-3",id:"upnp","locale-prefix":"config",modelValue:t.value.upnp,"onUpdate:modelValue":n[0]||(n[0]=i=>t.value.upnp=i),default:"false"},null,8,["modelValue"]),e("div",Le,[e("label",Je,s(o.$t("config.address_family")),1),u(e("select",{id:"address_family",class:"form-select","onUpdate:modelValue":n[1]||(n[1]=i=>t.value.address_family=i)},[e("option",Ke,s(o.$t("config.address_family_ipv4")),1),e("option",Fe,s(o.$t("config.address_family_both")),1)],512),[[$,t.value.address_family]]),e("div",Qe,s(o.$t("config.address_family_desc")),1)]),e("div",We,[e("label",Xe,s(o.$t("config.port")),1),u(e("input",{type:"number",min:"1029",max:"65514",class:"form-control",id:"port",placeholder:N,"onUpdate:modelValue":n[2]||(n[2]=i=>t.value.port=i)},null,512),[[m,t.value.port]]),e("div",Ye,s(o.$t("config.port_desc")),1),+l.value-5<1024?(r(),_("div",Ze,[n[8]||(n[8]=e("i",{class:"fa-solid fa-xl fa-triangle-exclamation"},null,-1)),v(" "+s(o.$t("config.port_alert_1")),1)])):p("",!0),+l.value+21>65535?(r(),_("div",xe,[n[9]||(n[9]=e("i",{class:"fa-solid fa-xl fa-triangle-exclamation"},null,-1)),v(" "+s(o.$t("config.port_alert_2")),1)])):p("",!0),e("table",eo,[e("thead",null,[e("tr",null,[e("th",oo,s(o.$t("config.port_protocol")),1),e("th",to,s(o.$t("config.port_port")),1),e("th",so,s(o.$t("config.port_note")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,s(o.$t("config.port_tcp")),1),e("td",null,s(+l.value-5),1),n[10]||(n[10]=e("td",null,null,-1))]),e("tr",null,[e("td",null,s(o.$t("config.port_tcp")),1),e("td",null,s(+l.value),1),e("td",null,[+l.value!==N?(r(),_("div",lo,[n[11]||(n[11]=e("i",{class:"fa-solid fa-xl fa-circle-info"},null,-1)),v(" "+s(o.$t("config.port_http_port_note")),1)])):p("",!0)])]),e("tr",null,[e("td",null,s(o.$t("config.port_tcp")),1),e("td",null,s(+l.value+1),1),e("td",null,s(o.$t("config.port_web_ui")),1)]),e("tr",null,[e("td",null,s(o.$t("config.port_tcp")),1),e("td",null,s(+l.value+21),1),n[12]||(n[12]=e("td",null,null,-1))]),e("tr",null,[e("td",null,s(o.$t("config.port_udp")),1),e("td",null,s(+l.value+9)+" - "+s(+l.value+11),1),n[13]||(n[13]=e("td",null,null,-1))])])]),t.value.origin_web_ui_allowed==="wan"?(r(),_("div",no,[n[14]||(n[14]=e("i",{class:"fa-solid fa-xl fa-triangle-exclamation"},null,-1)),v(" "+s(o.$t("config.port_warning")),1)])):p("",!0)]),e("div",ao,[e("label",io,s(o.$t("config.origin_web_ui_allowed")),1),u(e("select",{id:"origin_web_ui_allowed",class:"form-select","onUpdate:modelValue":n[3]||(n[3]=i=>t.value.origin_web_ui_allowed=i)},[e("option",ro,s(o.$t("config.origin_web_ui_allowed_pc")),1),e("option",co,s(o.$t("config.origin_web_ui_allowed_lan")),1),e("option",uo,s(o.$t("config.origin_web_ui_allowed_wan")),1)],512),[[$,t.value.origin_web_ui_allowed]]),e("div",_o,s(o.$t("config.origin_web_ui_allowed_desc")),1)]),e("div",po,[e("label",fo,s(o.$t("config.external_ip")),1),u(e("input",{type:"text",class:"form-control",id:"external_ip",placeholder:"123.456.789.12","onUpdate:modelValue":n[4]||(n[4]=i=>t.value.external_ip=i)},null,512),[[m,t.value.external_ip]]),e("div",mo,s(o.$t("config.external_ip_desc")),1)]),e("div",vo,[e("label",go,s(o.$t("config.lan_encryption_mode")),1),u(e("select",{id:"lan_encryption_mode",class:"form-select","onUpdate:modelValue":n[5]||(n[5]=i=>t.value.lan_encryption_mode=i)},[e("option",ho,s(o.$t("_common.disabled_def")),1),e("option",$o,s(o.$t("config.lan_encryption_mode_1")),1),e("option",bo,s(o.$t("config.lan_encryption_mode_2")),1)],512),[[$,t.value.lan_encryption_mode]]),e("div",yo,s(o.$t("config.lan_encryption_mode_desc")),1)]),e("div",wo,[e("label",Vo,s(o.$t("config.wan_encryption_mode")),1),u(e("select",{id:"wan_encryption_mode",class:"form-select","onUpdate:modelValue":n[6]||(n[6]=i=>t.value.wan_encryption_mode=i)},[e("option",ko,s(o.$t("_common.disabled")),1),e("option",Uo,s(o.$t("config.wan_encryption_mode_1")),1),e("option",So,s(o.$t("config.wan_encryption_mode_2")),1)],512),[[$,t.value.wan_encryption_mode]]),e("div",qo,s(o.$t("config.wan_encryption_mode_desc")),1)]),e("div",To,[e("label",Eo,s(o.$t("config.ping_timeout")),1),u(e("input",{type:"text",class:"form-control",id:"ping_timeout",placeholder:"10000","onUpdate:modelValue":n[7]||(n[7]=i=>t.value.ping_timeout=i)},null,512),[[m,t.value.ping_timeout]]),e("div",Io,s(o.$t("config.ping_timeout_desc")),1)])]))}},Do={id:"files",class:"config-page"},Ao={class:"mb-3"},No={for:"file_apps",class:"form-label"},Ro={class:"form-text"},Po={class:"mb-3"},Co={for:"credentials_file",class:"form-label"},Go={class:"form-text"},Bo={class:"mb-3"},zo={for:"log_path",class:"form-label"},Mo={class:"form-text"},jo={class:"mb-3"},Ho={for:"pkey",class:"form-label"},Lo={class:"form-text"},Jo={class:"mb-3"},Ko={for:"cert",class:"form-label"},Fo={class:"form-text"},Qo={class:"mb-3"},Wo={for:"file_state",class:"form-label"},Xo={class:"form-text"},Yo={__name:"Files",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",Do,[e("div",Ao,[e("label",No,s(l.$t("config.file_apps")),1),u(e("input",{type:"text",class:"form-control",id:"file_apps",placeholder:"apps.json","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.file_apps=n)},null,512),[[m,t.value.file_apps]]),e("div",Ro,s(l.$t("config.file_apps_desc")),1)]),e("div",Po,[e("label",Co,s(l.$t("config.credentials_file")),1),u(e("input",{type:"text",class:"form-control",id:"credentials_file",placeholder:"sunshine_state.json","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.credentials_file=n)},null,512),[[m,t.value.credentials_file]]),e("div",Go,s(l.$t("config.credentials_file_desc")),1)]),e("div",Bo,[e("label",zo,s(l.$t("config.log_path")),1),u(e("input",{type:"text",class:"form-control",id:"log_path",placeholder:"sunshine.log","onUpdate:modelValue":o[2]||(o[2]=n=>t.value.log_path=n)},null,512),[[m,t.value.log_path]]),e("div",Mo,s(l.$t("config.log_path_desc")),1)]),e("div",jo,[e("label",Ho,s(l.$t("config.pkey")),1),u(e("input",{type:"text",class:"form-control",id:"pkey",placeholder:"/dir/pkey.pem","onUpdate:modelValue":o[3]||(o[3]=n=>t.value.pkey=n)},null,512),[[m,t.value.pkey]]),e("div",Lo,s(l.$t("config.pkey_desc")),1)]),e("div",Jo,[e("label",Ko,s(l.$t("config.cert")),1),u(e("input",{type:"text",class:"form-control",id:"cert",placeholder:"/dir/cert.pem","onUpdate:modelValue":o[4]||(o[4]=n=>t.value.cert=n)},null,512),[[m,t.value.cert]]),e("div",Fo,s(l.$t("config.cert_desc")),1)]),e("div",Qo,[e("label",Wo,s(l.$t("config.file_state")),1),u(e("input",{type:"text",class:"form-control",id:"file_state",placeholder:"sunshine_state.json","onUpdate:modelValue":o[5]||(o[5]=n=>t.value.file_state=n)},null,512),[[m,t.value.file_state]]),e("div",Xo,s(l.$t("config.file_state_desc")),1)])]))}},Zo={class:"config-page"},xo={class:"mb-3"},et={for:"fec_percentage",class:"form-label"},ot={class:"form-text"},tt={class:"mb-3"},st={for:"qp",class:"form-label"},lt={class:"form-text"},nt={class:"mb-3"},at={for:"min_threads",class:"form-label"},it={class:"form-text"},dt={class:"mb-3"},rt={for:"hevc_mode",class:"form-label"},ct={value:"0"},ut={value:"1"},_t={value:"2"},pt={value:"3"},ft={class:"form-text"},mt={class:"mb-3"},vt={for:"av1_mode",class:"form-label"},gt={value:"0"},ht={value:"1"},$t={value:"2"},bt={value:"3"},yt={class:"form-text"},wt={key:0,class:"mb-3"},Vt={for:"capture",class:"form-label"},kt={value:""},Ut={value:"wgc"},St={class:"form-text"},qt={class:"mb-3"},Tt={for:"encoder",class:"form-label"},Et={value:""},It={value:"software"},Ot={class:"form-text"},Dt={__name:"Advanced",props:["platform","config","global_prep_cmd"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",Zo,[e("div",xo,[e("label",et,s(l.$t("config.fec_percentage")),1),u(e("input",{type:"text",class:"form-control",id:"fec_percentage",placeholder:"20","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.fec_percentage=n)},null,512),[[m,t.value.fec_percentage]]),e("div",ot,s(l.$t("config.fec_percentage_desc")),1)]),e("div",tt,[e("label",st,s(l.$t("config.qp")),1),u(e("input",{type:"number",class:"form-control",id:"qp",placeholder:"28","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.qp=n)},null,512),[[m,t.value.qp]]),e("div",lt,s(l.$t("config.qp_desc")),1)]),e("div",nt,[e("label",at,s(l.$t("config.min_threads")),1),u(e("input",{type:"number",class:"form-control",id:"min_threads",placeholder:"2",min:"1","onUpdate:modelValue":o[2]||(o[2]=n=>t.value.min_threads=n)},null,512),[[m,t.value.min_threads]]),e("div",it,s(l.$t("config.min_threads_desc")),1)]),e("div",dt,[e("label",rt,s(l.$t("config.hevc_mode")),1),u(e("select",{id:"hevc_mode",class:"form-select","onUpdate:modelValue":o[3]||(o[3]=n=>t.value.hevc_mode=n)},[e("option",ct,s(l.$t("config.hevc_mode_0")),1),e("option",ut,s(l.$t("config.hevc_mode_1")),1),e("option",_t,s(l.$t("config.hevc_mode_2")),1),e("option",pt,s(l.$t("config.hevc_mode_3")),1)],512),[[$,t.value.hevc_mode]]),e("div",ft,s(l.$t("config.hevc_mode_desc")),1)]),e("div",mt,[e("label",vt,s(l.$t("config.av1_mode")),1),u(e("select",{id:"av1_mode",class:"form-select","onUpdate:modelValue":o[4]||(o[4]=n=>t.value.av1_mode=n)},[e("option",gt,s(l.$t("config.av1_mode_0")),1),e("option",ht,s(l.$t("config.av1_mode_1")),1),e("option",$t,s(l.$t("config.av1_mode_2")),1),e("option",bt,s(l.$t("config.av1_mode_3")),1)],512),[[$,t.value.av1_mode]]),e("div",yt,s(l.$t("config.av1_mode_desc")),1)]),a.platform!=="macos"?(r(),_("div",wt,[e("label",Vt,s(l.$t("config.capture")),1),u(e("select",{id:"capture",class:"form-select","onUpdate:modelValue":o[5]||(o[5]=n=>t.value.capture=n)},[e("option",kt,s(l.$t("_common.autodetect")),1),g(S,{platform:a.platform},{linux:b(()=>o[7]||(o[7]=[e("option",{value:"nvfbc"},"NvFBC",-1),e("option",{value:"wlr"},"wlroots",-1),e("option",{value:"kms"},"KMS",-1),e("option",{value:"x11"},"X11",-1)])),windows:b(()=>[o[8]||(o[8]=e("option",{value:"ddx"},"Desktop Duplication API",-1)),e("option",Ut,"Windows.Graphics.Capture "+s(l.$t("_common.beta")),1)]),_:1},8,["platform"])],512),[[$,t.value.capture]]),e("div",St,s(l.$t("config.capture_desc")),1)])):p("",!0),e("div",qt,[e("label",Tt,s(l.$t("config.encoder")),1),u(e("select",{id:"encoder",class:"form-select","onUpdate:modelValue":o[6]||(o[6]=n=>t.value.encoder=n)},[e("option",Et,s(l.$t("_common.autodetect")),1),g(S,{platform:a.platform},{windows:b(()=>o[9]||(o[9]=[e("option",{value:"nvenc"},"NVIDIA NVENC",-1),e("option",{value:"quicksync"},"Intel QuickSync",-1),e("option",{value:"amdvce"},"AMD AMF/VCE",-1)])),linux:b(()=>o[10]||(o[10]=[e("option",{value:"nvenc"},"NVIDIA NVENC",-1),e("option",{value:"vaapi"},"VA-API",-1)])),macos:b(()=>o[11]||(o[11]=[e("option",{value:"videotoolbox"},"VideoToolbox",-1)])),_:1},8,["platform"]),e("option",It,s(l.$t("config.encoder_software")),1)],512),[[$,t.value.encoder]]),e("div",Ot,s(l.$t("config.encoder_desc")),1)])]))}};class At{constructor(d){this.platform=d}getPlatformKey(d,t){return d+"_"+t}getMessageUsingPlatform(d,t){const l=this.getPlatformKey(d,this.platform),o=A("i18n");let n=o.t(l);if(n!==l)return n;if(this.platform==="windows")return t||n;const i=this.getPlatformKey(d,"unix");return n=o.t(i),n===i&&t?t:n}}function Nt(a){if(a||(a=A("platform").value),!a)throw"platform argument missing";return A("platformMessage",()=>new At(a),!0)}function I(a,d){return Nt().getMessageUsingPlatform(a,d)}const Rt={key:0,class:"mb-3"},Pt={for:"adapter_name",class:"form-label"},Ct=["placeholder"],Gt={class:"form-text"},Bt={__name:"AdapterNameSelector",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>a.platform!=="macos"?(r(),_("div",Rt,[e("label",Pt,s(l.$t("config.adapter_name")),1),u(e("input",{type:"text",class:"form-control",id:"adapter_name",placeholder:E(I)("config.adapter_name_placeholder","/dev/dri/renderD128"),"onUpdate:modelValue":o[0]||(o[0]=n=>t.value.adapter_name=n)},null,8,Ct),[[m,t.value.adapter_name]]),e("div",Gt,[g(S,{platform:a.platform},{windows:b(()=>[v(s(l.$t("config.adapter_name_desc_windows")),1),o[1]||(o[1]=e("br",null,null,-1)),o[2]||(o[2]=e("pre",null,"tools\\dxgi-info.exe",-1))]),linux:b(()=>[v(s(l.$t("config.adapter_name_desc_linux_1")),1),o[3]||(o[3]=e("br",null,null,-1)),e("pre",null,"ls /dev/dri/renderD*  # "+s(l.$t("config.adapter_name_desc_linux_2")),1),o[4]||(o[4]=e("pre",null,`              vainfo --display drm --device /dev/dri/renderD129 | \\
                grep -E "((VAProfileH264High|VAProfileHEVCMain|VAProfileHEVCMain10).*VAEntrypointEncSlice)|Driver version"
            `,-1)),v(" "+s(l.$t("config.adapter_name_desc_linux_3")),1),o[5]||(o[5]=e("br",null,null,-1)),o[6]||(o[6]=e("i",null,"VAProfileH264High : VAEntrypointEncSlice",-1))]),_:1},8,["platform"])])])):p("",!0)}},zt={class:"mb-3"},Mt={for:"output_name",class:"form-label"},jt=["placeholder"],Ht={class:"form-text"},Lt={__name:"DisplayOutputSelector",props:["platform","config"],setup(a){const d=a,t=y(d.config),l=d.platform==="windows"?"{de9bb7e2-186e-505b-9e93-f48793333810}":"0";return(o,n)=>(r(),_("div",zt,[e("label",Mt,s(E(I)("config.output_name")),1),u(e("input",{type:"text",class:"form-control",id:"output_name",placeholder:E(l),"onUpdate:modelValue":n[0]||(n[0]=i=>t.value.output_name=i)},null,8,jt),[[m,t.value.output_name]]),e("div",Ht,[v(s(E(I)("config.output_name_desc")),1),n[4]||(n[4]=e("br",null,null,-1)),g(S,{platform:a.platform},{windows:b(()=>n[1]||(n[1]=[e("pre",{style:{"white-space":"pre-line"}},[v("            "),e("b",null,"  {"),v(`
            `),e("b",null,'    "device_id": "{de9bb7e2-186e-505b-9e93-f48793333810}"'),v(`
            `),e("b",null,'    "display_name": "\\\\\\\\.\\\\DISPLAY1"'),v(`
            `),e("b",null,'    "friendly_name": "ROG PG279Q"'),v(`
            `),e("b",null,"    ..."),v(`
            `),e("b",null,"  }"),v(`
          `)],-1)])),linux:b(()=>n[2]||(n[2]=[e("pre",{style:{"white-space":"pre-line"}},`            Info: Detecting displays
            Info: Detected display: DVI-D-0 (id: 0) connected: false
            Info: Detected display: HDMI-0 (id: 1) connected: true
            Info: Detected display: DP-0 (id: 2) connected: true
            Info: Detected display: DP-1 (id: 3) connected: false
            Info: Detected display: DVI-D-1 (id: 4) connected: false
          `,-1)])),macos:b(()=>n[3]||(n[3]=[e("pre",{style:{"white-space":"pre-line"}},`            Info: Detecting displays
            Info: Detected display: Monitor-0 (id: 3) connected: true
            Info: Detected display: Monitor-1 (id: 2) connected: true
          `,-1)])),_:1},8,["platform"])])]))}},Jt={class:"mb-3 accordion"},Kt={class:"accordion-item"},Ft={class:"accordion-header"},Qt={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne"},Wt={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},Xt={class:"accordion-body"},Yt={class:"mb-3"},Zt={for:"dd_configuration_option",class:"form-label"},xt={value:"disabled"},es={value:"verify_only"},os={value:"ensure_active"},ts={value:"ensure_primary"},ss={value:"ensure_only_display"},ls={key:0,class:"mb-3"},ns={for:"dd_resolution_option",class:"form-label"},as={value:"disabled"},is={value:"auto"},ds={value:"manual"},rs={key:0,class:"form-text"},cs={key:1,class:"mt-2 ps-4"},us={class:"form-text"},_s={key:1,class:"mb-3"},ps={for:"dd_refresh_rate_option",class:"form-label"},fs={value:"disabled"},ms={value:"auto"},vs={value:"manual"},gs={key:0,class:"mt-2 ps-4"},hs={class:"form-text"},$s={key:2,class:"mb-3"},bs={for:"dd_hdr_option",class:"form-label"},ys={value:"disabled"},ws={value:"auto"},Vs={for:"dd_wa_hdr_toggle_delay",class:"form-label"},ks={class:"form-text"},Us={key:3,class:"mb-3"},Ss={for:"dd_config_revert_delay",class:"form-label"},qs={class:"form-text"},Ts={key:4,class:"mb-3"},Es={key:5,class:"mb-3"},Is={for:"dd_mode_remapping",class:"form-label"},Os={id:"dd_mode_remapping",class:"d-flex flex-column"},Ds={class:"form-text"},As={key:0,class:"table"},Ns={key:0,scope:"col"},Rs={key:1,scope:"col"},Ps={key:2,scope:"col"},Cs={key:3,scope:"col"},Gs={key:0},Bs=["onUpdate:modelValue"],zs={key:1},Ms=["onUpdate:modelValue"],js={key:2},Hs=["onUpdate:modelValue"],Ls={key:3},Js=["onUpdate:modelValue"],Ks=["onClick"],T="refresh_rate_only",q="resolution_only",D="mixed",Fs={__name:"DisplayDeviceOptions",props:{platform:String,config:Object},setup(a){const t=y(a.config);function l(){return(t.value.dd_resolution_option==="auto"||t.value.dd_refresh_rate_option==="auto")&&t.value.dd_configuration_option!=="disabled"}function o(){return t.value.dd_resolution_option!=="auto"?T:t.value.dd_refresh_rate_option!=="auto"?q:D}function n(){const i=o();let c={};i!==q&&(c.requested_fps="",c.final_refresh_rate=""),i!==T&&(c.requested_resolution="",c.final_resolution=""),t.value.dd_mode_remapping[i].push(c)}return(i,c)=>(r(),w(S,{platform:a.platform},{windows:b(()=>[e("div",Jt,[e("div",Kt,[e("h2",Ft,[e("button",Qt,s(i.$t("config.dd_options_header")),1)]),e("div",Wt,[e("div",Xt,[e("div",Yt,[e("label",Zt,s(i.$t("config.dd_config_label")),1),u(e("select",{id:"dd_configuration_option",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=f=>t.value.dd_configuration_option=f)},[e("option",xt,s(i.$t("_common.disabled_def")),1),e("option",es,s(i.$t("config.dd_config_verify_only")),1),e("option",os,s(i.$t("config.dd_config_ensure_active")),1),e("option",ts,s(i.$t("config.dd_config_ensure_primary")),1),e("option",ss,s(i.$t("config.dd_config_ensure_only_display")),1)],512),[[$,t.value.dd_configuration_option]])]),t.value.dd_configuration_option!=="disabled"?(r(),_("div",ls,[e("label",ns,s(i.$t("config.dd_resolution_option")),1),u(e("select",{id:"dd_resolution_option",class:"form-select","onUpdate:modelValue":c[1]||(c[1]=f=>t.value.dd_resolution_option=f)},[e("option",as,s(i.$t("config.dd_resolution_option_disabled")),1),e("option",is,s(i.$t("config.dd_resolution_option_auto")),1),e("option",ds,s(i.$t("config.dd_resolution_option_manual")),1)],512),[[$,t.value.dd_resolution_option]]),t.value.dd_resolution_option==="auto"||t.value.dd_resolution_option==="manual"?(r(),_("div",rs,s(i.$t("config.dd_resolution_option_ogs_desc")),1)):p("",!0),t.value.dd_resolution_option==="manual"?(r(),_("div",cs,[e("div",us,s(i.$t("config.dd_resolution_option_manual_desc")),1),u(e("input",{type:"text",class:"form-control",id:"dd_manual_resolution",placeholder:"2560x1440","onUpdate:modelValue":c[2]||(c[2]=f=>t.value.dd_manual_resolution=f)},null,512),[[m,t.value.dd_manual_resolution]])])):p("",!0)])):p("",!0),t.value.dd_configuration_option!=="disabled"?(r(),_("div",_s,[e("label",ps,s(i.$t("config.dd_refresh_rate_option")),1),u(e("select",{id:"dd_refresh_rate_option",class:"form-select","onUpdate:modelValue":c[3]||(c[3]=f=>t.value.dd_refresh_rate_option=f)},[e("option",fs,s(i.$t("config.dd_refresh_rate_option_disabled")),1),e("option",ms,s(i.$t("config.dd_refresh_rate_option_auto")),1),e("option",vs,s(i.$t("config.dd_refresh_rate_option_manual")),1)],512),[[$,t.value.dd_refresh_rate_option]]),t.value.dd_refresh_rate_option==="manual"?(r(),_("div",gs,[e("div",hs,s(i.$t("config.dd_refresh_rate_option_manual_desc")),1),u(e("input",{type:"text",class:"form-control",id:"dd_manual_refresh_rate",placeholder:"59.9558","onUpdate:modelValue":c[4]||(c[4]=f=>t.value.dd_manual_refresh_rate=f)},null,512),[[m,t.value.dd_manual_refresh_rate]])])):p("",!0)])):p("",!0),t.value.dd_configuration_option!=="disabled"?(r(),_("div",$s,[e("label",bs,s(i.$t("config.dd_hdr_option")),1),u(e("select",{id:"dd_hdr_option",class:"mb-3 form-select","onUpdate:modelValue":c[5]||(c[5]=f=>t.value.dd_hdr_option=f)},[e("option",ys,s(i.$t("config.dd_hdr_option_disabled")),1),e("option",ws,s(i.$t("config.dd_hdr_option_auto")),1)],512),[[$,t.value.dd_hdr_option]]),e("label",Vs,s(i.$t("config.dd_wa_hdr_toggle_delay")),1),u(e("input",{type:"number",class:"form-control",id:"dd_wa_hdr_toggle_delay",placeholder:"0",min:"0",max:"3000","onUpdate:modelValue":c[6]||(c[6]=f=>t.value.dd_wa_hdr_toggle_delay=f)},null,512),[[m,t.value.dd_wa_hdr_toggle_delay]]),e("div",ks,[v(s(i.$t("config.dd_wa_hdr_toggle_delay_desc_1"))+" ",1),c[10]||(c[10]=e("br",null,null,-1)),v(" "+s(i.$t("config.dd_wa_hdr_toggle_delay_desc_2"))+" ",1),c[11]||(c[11]=e("br",null,null,-1)),v(" "+s(i.$t("config.dd_wa_hdr_toggle_delay_desc_3")),1)])])):p("",!0),t.value.dd_configuration_option!=="disabled"?(r(),_("div",Us,[e("label",Ss,s(i.$t("config.dd_config_revert_delay")),1),u(e("input",{type:"number",class:"form-control",id:"dd_config_revert_delay",placeholder:"3000",min:"0","onUpdate:modelValue":c[7]||(c[7]=f=>t.value.dd_config_revert_delay=f)},null,512),[[m,t.value.dd_config_revert_delay]]),e("div",qs,s(i.$t("config.dd_config_revert_delay_desc")),1)])):p("",!0),t.value.dd_configuration_option!=="disabled"?(r(),_("div",Ts,[g(h,{id:"dd_config_revert_on_disconnect","locale-prefix":"config",modelValue:t.value.dd_config_revert_on_disconnect,"onUpdate:modelValue":c[8]||(c[8]=f=>t.value.dd_config_revert_on_disconnect=f),default:"false"},null,8,["modelValue"])])):p("",!0),l()?(r(),_("div",Es,[e("label",Is,s(i.$t("config.dd_mode_remapping")),1),e("div",Os,[e("div",Ds,[v(s(i.$t("config.dd_mode_remapping_desc_1")),1),c[14]||(c[14]=e("br",null,null,-1)),v(" "+s(i.$t("config.dd_mode_remapping_desc_2")),1),c[15]||(c[15]=e("br",null,null,-1)),v(" "+s(i.$t("config.dd_mode_remapping_desc_3")),1),c[16]||(c[16]=e("br",null,null,-1)),v(" "+s(i.$t(o()===D?"config.dd_mode_remapping_desc_4_final_values_mixed":"config.dd_mode_remapping_desc_4_final_values_non_mixed")),1),c[17]||(c[17]=e("br",null,null,-1)),o()===D?(r(),_(k,{key:0},[v(s(i.$t("config.dd_mode_remapping_desc_5_sops_mixed_only")),1),c[12]||(c[12]=e("br",null,null,-1))],64)):p("",!0),o()===q?(r(),_(k,{key:1},[v(s(i.$t("config.dd_mode_remapping_desc_5_sops_resolution_only")),1),c[13]||(c[13]=e("br",null,null,-1))],64)):p("",!0)])]),t.value.dd_mode_remapping[o()].length>0?(r(),_("table",As,[e("thead",null,[e("tr",null,[o()!==T?(r(),_("th",Ns,s(i.$t("config.dd_mode_remapping_requested_resolution")),1)):p("",!0),o()!==q?(r(),_("th",Rs,s(i.$t("config.dd_mode_remapping_requested_fps")),1)):p("",!0),o()!==T?(r(),_("th",Ps,s(i.$t("config.dd_mode_remapping_final_resolution")),1)):p("",!0),o()!==q?(r(),_("th",Cs,s(i.$t("config.dd_mode_remapping_final_refresh_rate")),1)):p("",!0),c[18]||(c[18]=e("th",{scope:"col"},null,-1))])]),e("tbody",null,[(r(!0),_(k,null,P(t.value.dd_mode_remapping[o()],(f,V)=>(r(),_("tr",null,[o()!==T?(r(),_("td",Gs,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":U=>f.requested_resolution=U,placeholder:"1920x1080"},null,8,Bs),[[m,f.requested_resolution]])])):p("",!0),o()!==q?(r(),_("td",zs,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":U=>f.requested_fps=U,placeholder:"60"},null,8,Ms),[[m,f.requested_fps]])])):p("",!0),o()!==T?(r(),_("td",js,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":U=>f.final_resolution=U,placeholder:"2560x1440"},null,8,Hs),[[m,f.final_resolution]])])):p("",!0),o()!==q?(r(),_("td",Ls,[u(e("input",{type:"text",class:"form-control monospace","onUpdate:modelValue":U=>f.final_refresh_rate=U,placeholder:"119.95"},null,8,Js),[[m,f.final_refresh_rate]])])):p("",!0),e("td",null,[e("button",{class:"btn btn-danger",onClick:U=>t.value.dd_mode_remapping[o()].splice(V,1)},c[19]||(c[19]=[e("i",{class:"fas fa-trash"},null,-1)]),8,Ks)])]))),256))])])):p("",!0),e("button",{class:"ms-0 mt-2 btn btn-success",style:{margin:"0 auto"},onClick:c[9]||(c[9]=f=>n())}," + "+s(i.$t("config.dd_mode_remapping_add")),1)])):p("",!0)])])])])]),linux:b(()=>c[20]||(c[20]=[])),macos:b(()=>c[21]||(c[21]=[])),_:1},8,["platform"]))}};const Qs={class:"mb-3"},Ws={for:"max_bitrate",class:"form-label"},Xs={class:"form-text"},Ys={class:"mb-3"},Zs={for:"minimum_fps_target",class:"form-label"},xs={class:"form-text"},el={__name:"DisplayModesSettings",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_(k,null,[e("div",Qs,[e("label",Ws,s(l.$t("config.max_bitrate")),1),u(e("input",{type:"number",class:"form-control",id:"max_bitrate",placeholder:"0","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.max_bitrate=n)},null,512),[[m,t.value.max_bitrate]]),e("div",Xs,s(l.$t("config.max_bitrate_desc")),1)]),e("div",Ys,[e("label",Zs,s(l.$t("config.minimum_fps_target")),1),u(e("input",{type:"number",min:"0",max:"1000",class:"form-control",id:"minimum_fps_target",placeholder:"0","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.minimum_fps_target=n)},null,512),[[m,t.value.minimum_fps_target]]),e("div",xs,s(l.$t("config.minimum_fps_target_desc")),1)])],64))}},ol=G(el,[["__scopeId","data-v-cb151002"]]),tl={id:"audio-video",class:"config-page"},sl={class:"mb-3"},ll={for:"audio_sink",class:"form-label"},nl=["placeholder"],al={class:"form-text"},il={class:"mb-3"},dl={for:"virtual_sink",class:"form-label"},rl=["placeholder"],cl={class:"form-text"},ul={__name:"AudioVideo",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",tl,[e("div",sl,[e("label",ll,s(l.$t("config.audio_sink")),1),u(e("input",{type:"text",class:"form-control",id:"audio_sink",placeholder:E(I)("config.audio_sink_placeholder","alsa_output.pci-0000_09_00.3.analog-stereo"),"onUpdate:modelValue":o[0]||(o[0]=n=>t.value.audio_sink=n)},null,8,nl),[[m,t.value.audio_sink]]),e("div",al,[v(s(E(I)("config.audio_sink_desc")),1),o[7]||(o[7]=e("br",null,null,-1)),g(S,{platform:a.platform},{windows:b(()=>o[4]||(o[4]=[e("pre",null,"tools\\audio-info.exe",-1)])),linux:b(()=>o[5]||(o[5]=[e("pre",null,'pacmd list-sinks | grep "name:"',-1),e("pre",null,"pactl info | grep Source",-1)])),macos:b(()=>o[6]||(o[6]=[e("a",{href:"https://github.com/mattingalls/Soundflower",target:"_blank"},"Soundflower",-1),e("br",null,null,-1),e("a",{href:"https://github.com/ExistentialAudio/BlackHole",target:"_blank"},"BlackHole",-1),v(". ",-1)])),_:1},8,["platform"])])]),g(S,{platform:a.platform},{windows:b(()=>[e("div",il,[e("label",dl,s(l.$t("config.virtual_sink")),1),u(e("input",{type:"text",class:"form-control",id:"virtual_sink",placeholder:l.$t("config.virtual_sink_placeholder"),"onUpdate:modelValue":o[1]||(o[1]=n=>t.value.virtual_sink=n)},null,8,rl),[[m,t.value.virtual_sink]]),e("div",cl,s(l.$t("config.virtual_sink_desc")),1)]),g(h,{class:"mb-3",id:"install_steam_audio_drivers","locale-prefix":"config",modelValue:t.value.install_steam_audio_drivers,"onUpdate:modelValue":o[2]||(o[2]=n=>t.value.install_steam_audio_drivers=n),default:"true"},null,8,["modelValue"])]),_:1},8,["platform"]),g(h,{class:"mb-3",id:"stream_audio","locale-prefix":"config",modelValue:t.value.stream_audio,"onUpdate:modelValue":o[3]||(o[3]=n=>t.value.stream_audio=n),default:"true"},null,8,["modelValue"]),g(Bt,{platform:a.platform,config:t.value},null,8,["platform","config"]),g(Lt,{platform:a.platform,config:t.value},null,8,["platform","config"]),g(Fs,{platform:a.platform,config:t.value},null,8,["platform","config"]),g(ol,{platform:a.platform,config:t.value},null,8,["platform","config"])]))}},_l={id:"nvidia-nvenc-encoder",class:"config-page"},pl={class:"mb-3"},fl={for:"nvenc_preset",class:"form-label"},ml={value:"1"},vl={value:"7"},gl={class:"form-text"},hl={class:"mb-3"},$l={for:"nvenc_twopass",class:"form-label"},bl={value:"disabled"},yl={value:"quarter_res"},wl={value:"full_res"},Vl={class:"form-text"},kl={class:"mb-3"},Ul={for:"nvenc_vbv_increase",class:"form-label"},Sl={class:"form-text"},ql={class:"mb-3 accordion"},Tl={class:"accordion-item"},El={class:"accordion-header"},Il={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne"},Ol={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},Dl={class:"accordion-body"},Al={__name:"NvidiaNvencEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",_l,[e("div",pl,[e("label",fl,s(l.$t("config.nvenc_preset")),1),u(e("select",{id:"nvenc_preset",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.nvenc_preset=n)},[e("option",ml,"P1 "+s(l.$t("config.nvenc_preset_1")),1),o[8]||(o[8]=R('<option value="2">P2</option><option value="3">P3</option><option value="4">P4</option><option value="5">P5</option><option value="6">P6</option>',5)),e("option",vl,"P7 "+s(l.$t("config.nvenc_preset_7")),1)],512),[[$,t.value.nvenc_preset]]),e("div",gl,s(l.$t("config.nvenc_preset_desc")),1)]),e("div",hl,[e("label",$l,s(l.$t("config.nvenc_twopass")),1),u(e("select",{id:"nvenc_twopass",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.nvenc_twopass=n)},[e("option",bl,s(l.$t("config.nvenc_twopass_disabled")),1),e("option",yl,s(l.$t("config.nvenc_twopass_quarter_res")),1),e("option",wl,s(l.$t("config.nvenc_twopass_full_res")),1)],512),[[$,t.value.nvenc_twopass]]),e("div",Vl,s(l.$t("config.nvenc_twopass_desc")),1)]),g(h,{class:"mb-3",id:"nvenc_spatial_aq","locale-prefix":"config",modelValue:t.value.nvenc_spatial_aq,"onUpdate:modelValue":o[2]||(o[2]=n=>t.value.nvenc_spatial_aq=n),default:"false"},null,8,["modelValue"]),e("div",kl,[e("label",Ul,s(l.$t("config.nvenc_vbv_increase")),1),u(e("input",{type:"number",min:"0",max:"400",class:"form-control",id:"nvenc_vbv_increase",placeholder:"0","onUpdate:modelValue":o[3]||(o[3]=n=>t.value.nvenc_vbv_increase=n)},null,512),[[m,t.value.nvenc_vbv_increase]]),e("div",Sl,[v(s(l.$t("config.nvenc_vbv_increase_desc")),1),o[9]||(o[9]=e("br",null,null,-1)),o[10]||(o[10]=e("br",null,null,-1)),o[11]||(o[11]=e("a",{href:"https://en.wikipedia.org/wiki/Video_buffering_verifier"},"VBV/HRD",-1))])]),e("div",ql,[e("div",Tl,[e("h2",El,[e("button",Il,s(l.$t("config.misc")),1)]),e("div",Ol,[e("div",Dl,[a.platform==="windows"?(r(),w(h,{key:0,class:"mb-3",id:"nvenc_realtime_hags","locale-prefix":"config",modelValue:t.value.nvenc_realtime_hags,"onUpdate:modelValue":o[4]||(o[4]=n=>t.value.nvenc_realtime_hags=n),default:"true"},{default:b(()=>o[12]||(o[12]=[e("br",null,null,-1),e("br",null,null,-1),e("a",{href:"https://devblogs.microsoft.com/directx/hardware-accelerated-gpu-scheduling/"},"HAGS",-1)])),_:1,__:[12]},8,["modelValue"])):p("",!0),a.platform==="windows"?(r(),w(h,{key:1,class:"mb-3",id:"nvenc_latency_over_power","locale-prefix":"config",modelValue:t.value.nvenc_latency_over_power,"onUpdate:modelValue":o[5]||(o[5]=n=>t.value.nvenc_latency_over_power=n),default:"true"},null,8,["modelValue"])):p("",!0),a.platform==="windows"?(r(),w(h,{key:2,class:"mb-3",id:"nvenc_opengl_vulkan_on_dxgi","locale-prefix":"config",modelValue:t.value.nvenc_opengl_vulkan_on_dxgi,"onUpdate:modelValue":o[6]||(o[6]=n=>t.value.nvenc_opengl_vulkan_on_dxgi=n),default:"true"},null,8,["modelValue"])):p("",!0),g(h,{class:"mb-3",id:"nvenc_h264_cavlc","locale-prefix":"config",modelValue:t.value.nvenc_h264_cavlc,"onUpdate:modelValue":o[7]||(o[7]=n=>t.value.nvenc_h264_cavlc=n),default:"false"},null,8,["modelValue"])])])])])]))}},Nl={id:"intel-quicksync-encoder",class:"config-page"},Rl={class:"mb-3"},Pl={for:"qsv_preset",class:"form-label"},Cl={value:"veryfast"},Gl={value:"faster"},Bl={value:"fast"},zl={value:"medium"},Ml={value:"slow"},jl={value:"slower"},Hl={value:"slowest"},Ll={class:"mb-3"},Jl={for:"qsv_coder",class:"form-label"},Kl={value:"auto"},Fl={value:"cabac"},Ql={value:"cavlc"},Wl={__name:"IntelQuickSyncEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",Nl,[e("div",Rl,[e("label",Pl,s(l.$t("config.qsv_preset")),1),u(e("select",{id:"qsv_preset",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.qsv_preset=n)},[e("option",Cl,s(l.$t("config.qsv_preset_veryfast")),1),e("option",Gl,s(l.$t("config.qsv_preset_faster")),1),e("option",Bl,s(l.$t("config.qsv_preset_fast")),1),e("option",zl,s(l.$t("config.qsv_preset_medium")),1),e("option",Ml,s(l.$t("config.qsv_preset_slow")),1),e("option",jl,s(l.$t("config.qsv_preset_slower")),1),e("option",Hl,s(l.$t("config.qsv_preset_slowest")),1)],512),[[$,t.value.qsv_preset]])]),e("div",Ll,[e("label",Jl,s(l.$t("config.qsv_coder")),1),u(e("select",{id:"qsv_coder",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.qsv_coder=n)},[e("option",Kl,s(l.$t("config.ffmpeg_auto")),1),e("option",Fl,s(l.$t("config.coder_cabac")),1),e("option",Ql,s(l.$t("config.coder_cavlc")),1)],512),[[$,t.value.qsv_coder]])]),g(h,{class:"mb-3",id:"qsv_slow_hevc","locale-prefix":"config",modelValue:t.value.qsv_slow_hevc,"onUpdate:modelValue":o[2]||(o[2]=n=>t.value.qsv_slow_hevc=n),default:"false"},null,8,["modelValue"])]))}},Xl={id:"amd-amf-encoder",class:"config-page"},Yl={class:"mb-3"},Zl={for:"amd_usage",class:"form-label"},xl={value:"transcoding"},en={value:"webcam"},on={value:"lowlatency_high_quality"},tn={value:"lowlatency"},sn={value:"ultralowlatency"},ln={class:"form-text"},nn={class:"mb-3 accordion"},an={class:"accordion-item"},dn={class:"accordion-header"},rn={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne"},cn={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},un={class:"accordion-body"},_n={class:"mb-3"},pn={for:"amd_rc",class:"form-label"},fn={value:"cbr"},mn={value:"cqp"},vn={value:"vbr_latency"},gn={value:"vbr_peak"},hn={class:"form-text"},$n={class:"mb-3 accordion"},bn={class:"accordion-item"},yn={class:"accordion-header"},wn={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo"},Vn={id:"panelsStayOpen-collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingTwo"},kn={class:"accordion-body"},Un={class:"mb-3"},Sn={for:"amd_quality",class:"form-label"},qn={value:"speed"},Tn={value:"balanced"},En={value:"quality"},In={class:"form-text"},On={class:"mb-3"},Dn={for:"amd_coder",class:"form-label"},An={value:"auto"},Nn={value:"cabac"},Rn={value:"cavlc"},Pn={class:"form-text"},Cn={__name:"AmdAmfEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",Xl,[e("div",Yl,[e("label",Zl,s(l.$t("config.amd_usage")),1),u(e("select",{id:"amd_usage",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.amd_usage=n)},[e("option",xl,s(l.$t("config.amd_usage_transcoding")),1),e("option",en,s(l.$t("config.amd_usage_webcam")),1),e("option",on,s(l.$t("config.amd_usage_lowlatency_high_quality")),1),e("option",tn,s(l.$t("config.amd_usage_lowlatency")),1),e("option",sn,s(l.$t("config.amd_usage_ultralowlatency")),1)],512),[[$,t.value.amd_usage]]),e("div",ln,s(l.$t("config.amd_usage_desc")),1)]),e("div",nn,[e("div",an,[e("h2",dn,[e("button",rn,s(l.$t("config.amd_rc_group")),1)]),e("div",cn,[e("div",un,[e("div",_n,[e("label",pn,s(l.$t("config.amd_rc")),1),u(e("select",{id:"amd_rc",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.amd_rc=n)},[e("option",fn,s(l.$t("config.amd_rc_cbr")),1),e("option",mn,s(l.$t("config.amd_rc_cqp")),1),e("option",vn,s(l.$t("config.amd_rc_vbr_latency")),1),e("option",gn,s(l.$t("config.amd_rc_vbr_peak")),1)],512),[[$,t.value.amd_rc]]),e("div",hn,s(l.$t("config.amd_rc_desc")),1)]),g(h,{class:"mb-3",id:"amd_enforce_hrd","locale-prefix":"config",modelValue:t.value.amd_enforce_hrd,"onUpdate:modelValue":o[2]||(o[2]=n=>t.value.amd_enforce_hrd=n),default:"false"},null,8,["modelValue"])])])])]),e("div",$n,[e("div",bn,[e("h2",yn,[e("button",wn,s(l.$t("config.amd_quality_group")),1)]),e("div",Vn,[e("div",kn,[e("div",Un,[e("label",Sn,s(l.$t("config.amd_quality")),1),u(e("select",{id:"amd_quality",class:"form-select","onUpdate:modelValue":o[3]||(o[3]=n=>t.value.amd_quality=n)},[e("option",qn,s(l.$t("config.amd_quality_speed")),1),e("option",Tn,s(l.$t("config.amd_quality_balanced")),1),e("option",En,s(l.$t("config.amd_quality_quality")),1)],512),[[$,t.value.amd_quality]]),e("div",In,s(l.$t("config.amd_quality_desc")),1)]),g(h,{class:"mb-3",id:"amd_preanalysis","locale-prefix":"config",modelValue:t.value.amd_preanalysis,"onUpdate:modelValue":o[4]||(o[4]=n=>t.value.amd_preanalysis=n),default:"false"},null,8,["modelValue"]),g(h,{class:"mb-3",id:"amd_vbaq","locale-prefix":"config",modelValue:t.value.amd_vbaq,"onUpdate:modelValue":o[5]||(o[5]=n=>t.value.amd_vbaq=n),default:"true"},null,8,["modelValue"]),e("div",On,[e("label",Dn,s(l.$t("config.amd_coder")),1),u(e("select",{id:"amd_coder",class:"form-select","onUpdate:modelValue":o[6]||(o[6]=n=>t.value.amd_coder=n)},[e("option",An,s(l.$t("config.ffmpeg_auto")),1),e("option",Nn,s(l.$t("config.coder_cabac")),1),e("option",Rn,s(l.$t("config.coder_cavlc")),1)],512),[[$,t.value.amd_coder]]),e("div",Pn,s(l.$t("config.amd_coder_desc")),1)])])])])])]))}},Gn={id:"videotoolbox-encoder",class:"config-page"},Bn={class:"mb-3"},zn={for:"vt_coder",class:"form-label"},Mn={value:"auto"},jn={value:"cabac"},Hn={value:"cavlc"},Ln={class:"mb-3"},Jn={for:"vt_software",class:"form-label"},Kn={value:"auto"},Fn={value:"disabled"},Qn={value:"allowed"},Wn={value:"forced"},Xn={__name:"VideotoolboxEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",Gn,[e("div",Bn,[e("label",zn,s(l.$t("config.vt_coder")),1),u(e("select",{id:"vt_coder",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.vt_coder=n)},[e("option",Mn,s(l.$t("config.ffmpeg_auto")),1),e("option",jn,s(l.$t("config.coder_cabac")),1),e("option",Hn,s(l.$t("config.coder_cavlc")),1)],512),[[$,t.value.vt_coder]])]),e("div",Ln,[e("label",Jn,s(l.$t("config.vt_software")),1),u(e("select",{id:"vt_software",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.vt_software=n)},[e("option",Kn,s(l.$t("_common.auto")),1),e("option",Fn,s(l.$t("_common.disabled")),1),e("option",Qn,s(l.$t("config.vt_software_allowed")),1),e("option",Wn,s(l.$t("config.vt_software_forced")),1)],512),[[$,t.value.vt_software]])]),g(h,{class:"mb-3",id:"vt_realtime",desc:"","locale-prefix":"config",modelValue:t.value.vt_realtime,"onUpdate:modelValue":o[2]||(o[2]=n=>t.value.vt_realtime=n),default:"true"},null,8,["modelValue"])]))}},Yn={id:"software-encoder",class:"config-page"},Zn={class:"mb-3"},xn={for:"sw_preset",class:"form-label"},ea={value:"ultrafast"},oa={value:"superfast"},ta={value:"veryfast"},sa={value:"faster"},la={value:"fast"},na={value:"medium"},aa={value:"slow"},ia={value:"slower"},da={value:"veryslow"},ra={class:"form-text"},ca={class:"mb-3"},ua={for:"sw_tune",class:"form-label"},_a={value:"film"},pa={value:"animation"},fa={value:"grain"},ma={value:"stillimage"},va={value:"fastdecode"},ga={value:"zerolatency"},ha={class:"form-text"},$a={__name:"SoftwareEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",Yn,[e("div",Zn,[e("label",xn,s(l.$t("config.sw_preset")),1),u(e("select",{id:"sw_preset",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.sw_preset=n)},[e("option",ea,s(l.$t("config.sw_preset_ultrafast")),1),e("option",oa,s(l.$t("config.sw_preset_superfast")),1),e("option",ta,s(l.$t("config.sw_preset_veryfast")),1),e("option",sa,s(l.$t("config.sw_preset_faster")),1),e("option",la,s(l.$t("config.sw_preset_fast")),1),e("option",na,s(l.$t("config.sw_preset_medium")),1),e("option",aa,s(l.$t("config.sw_preset_slow")),1),e("option",ia,s(l.$t("config.sw_preset_slower")),1),e("option",da,s(l.$t("config.sw_preset_veryslow")),1)],512),[[$,t.value.sw_preset]]),e("div",ra,s(l.$t("config.sw_preset_desc")),1)]),e("div",ca,[e("label",ua,s(l.$t("config.sw_tune")),1),u(e("select",{id:"sw_tune",class:"form-select","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.sw_tune=n)},[e("option",_a,s(l.$t("config.sw_tune_film")),1),e("option",pa,s(l.$t("config.sw_tune_animation")),1),e("option",fa,s(l.$t("config.sw_tune_grain")),1),e("option",ma,s(l.$t("config.sw_tune_stillimage")),1),e("option",va,s(l.$t("config.sw_tune_fastdecode")),1),e("option",ga,s(l.$t("config.sw_tune_zerolatency")),1)],512),[[$,t.value.sw_tune]]),e("div",ha,s(l.$t("config.sw_tune_desc")),1)])]))}},ba={id:"vaapi-encoder",class:"config-page"},ya={__name:"VAAPIEncoder",props:["platform","config"],setup(a){const t=y(a.config);return(l,o)=>(r(),_("div",ba,[g(h,{class:"mb-3",id:"vaapi_strict_rc_buffer","locale-prefix":"config",modelValue:t.value.vaapi_strict_rc_buffer,"onUpdate:modelValue":o[0]||(o[0]=n=>t.value.vaapi_strict_rc_buffer=n),default:"false"},null,8,["modelValue"])]))}},wa={__name:"ContainerEncoders",props:["platform","config","currentTab"],setup(a){const t=y(a.config);return(l,o)=>(r(),_(k,null,[a.currentTab==="nv"?(r(),w(Al,{key:0,platform:a.platform,config:t.value},null,8,["platform","config"])):p("",!0),a.currentTab==="qsv"?(r(),w(Wl,{key:1,platform:a.platform,config:t.value},null,8,["platform","config"])):p("",!0),a.currentTab==="amd"?(r(),w(Cn,{key:2,platform:a.platform,config:t.value},null,8,["platform","config"])):p("",!0),a.currentTab==="vt"?(r(),w(Xn,{key:3,platform:a.platform,config:t.value},null,8,["platform","config"])):p("",!0),a.currentTab==="vaapi"?(r(),w(ya,{key:4,platform:a.platform,config:t.value},null,8,["platform","config"])):p("",!0),a.currentTab==="sw"?(r(),w($a,{key:5,platform:a.platform,config:t.value},null,8,["platform","config"])):p("",!0)],64))}},Va=B({components:{Navbar:M,General:ve,Inputs:je,Network:Oo,Files:Yo,Advanced:Dt,AudioVideo:ul,ContainerEncoders:wa},data(){return{platform:"",saved:!1,restarted:!1,saving:!1,appliedNow:!1,deferred:!1,restartRequired:!1,config:null,currentTab:"general",initialized:!1,userChanged:!1,_autoSaveTimer:null,_statusClearTimer:null,restartGatedKeys:["port","address_family","origin_web_ui_allowed","capture","encoder","install_steam_audio_drivers"],serverBaseline:{},restartGatedDirty:{},pendingRestartSave:!1,searchQuery:"",searchResults:[],searchActiveIndex:-1,searchIndex:[],searchActive:!1,searching:!1,suppressHashHandlerUntil:0,_searchDebounceTimer:null,tabs:[{id:"general",name:"General",options:{locale:"en",sunshine_name:"",min_log_level:2,global_prep_cmd:[],notify_pre_releases:"disabled"}},{id:"input",name:"Input",options:{controller:"enabled",gamepad:"auto",ds4_back_as_touchpad_click:"enabled",motion_as_ds4:"enabled",touchpad_as_ds4:"enabled",back_button_timeout:-1,keyboard:"enabled",key_repeat_delay:500,key_repeat_frequency:24.9,always_send_scancodes:"enabled",key_rightalt_to_key_win:"disabled",mouse:"enabled",high_resolution_scrolling:"enabled",native_pen_touch:"enabled",keybindings:"[0x10,0xA0,0x11,0xA2,0x12,0xA4]"}},{id:"av",name:"Audio/Video",options:{audio_sink:"",virtual_sink:"",install_steam_audio_drivers:"enabled",adapter_name:"",output_name:"",dd_configuration_option:"disabled",dd_resolution_option:"auto",dd_manual_resolution:"",dd_refresh_rate_option:"auto",dd_manual_refresh_rate:"",dd_hdr_option:"auto",dd_config_revert_delay:3e3,dd_config_revert_on_disconnect:"disabled",dd_mode_remapping:{mixed:[],resolution_only:[],refresh_rate_only:[]},dd_wa_hdr_toggle_delay:0,max_bitrate:0,minimum_fps_target:0}},{id:"network",name:"Network",options:{upnp:"disabled",address_family:"ipv4",port:47989,origin_web_ui_allowed:"lan",external_ip:"",lan_encryption_mode:0,wan_encryption_mode:1,ping_timeout:1e4}},{id:"files",name:"Config Files",options:{file_apps:"",credentials_file:"",log_path:"",pkey:"",cert:"",file_state:""}},{id:"advanced",name:"Advanced",options:{fec_percentage:20,qp:28,min_threads:2,hevc_mode:0,av1_mode:0,capture:"",encoder:""}},{id:"nv",name:"NVIDIA NVENC Encoder",options:{nvenc_preset:1,nvenc_twopass:"quarter_res",nvenc_spatial_aq:"disabled",nvenc_vbv_increase:0,nvenc_realtime_hags:"enabled",nvenc_latency_over_power:"enabled",nvenc_opengl_vulkan_on_dxgi:"enabled",nvenc_h264_cavlc:"disabled"}},{id:"qsv",name:"Intel QuickSync Encoder",options:{qsv_preset:"medium",qsv_coder:"auto",qsv_slow_hevc:"disabled"}},{id:"amd",name:"AMD AMF Encoder",options:{amd_usage:"ultralowlatency",amd_rc:"vbr_latency",amd_enforce_hrd:"disabled",amd_quality:"balanced",amd_preanalysis:"disabled",amd_vbaq:"enabled",amd_coder:"auto"}},{id:"vt",name:"VideoToolbox Encoder",options:{vt_coder:"auto",vt_software:"auto",vt_realtime:"enabled"}},{id:"vaapi",name:"VA-API Encoder",options:{vaapi_strict_rc_buffer:"disabled"}},{id:"sw",name:"Software Encoder",options:{sw_preset:"superfast",sw_tune:"zerolatency"}}]}},provide(){return{platform:C(()=>this.platform)}},created(){fetch("./api/config").then(a=>a.json()).then(a=>{this.config=a,this.platform=this.config.platform,document.getElementById("app"),this.platform==="windows"&&(this.tabs=this.tabs.filter(t=>t.id!=="vt"&&t.id!=="vaapi")),this.platform==="linux"&&(this.tabs=this.tabs.filter(t=>t.id!=="amd"&&t.id!=="qsv"&&t.id!=="vt")),this.platform==="macos"&&(this.tabs=this.tabs.filter(t=>t.id!=="amd"&&t.id!=="nv"&&t.id!=="qsv"&&t.id!=="vaapi")),delete this.config.platform,delete this.config.status,delete this.config.version;const d=["dd_mode_remapping","global_prep_cmd"];for(const t of d)this.config.hasOwnProperty(t)&&(this.config[t]=JSON.parse(this.config[t]));this.tabs.forEach(t=>{Object.keys(t.options).forEach(l=>{this.config[l]===void 0&&(this.config[l]=JSON.parse(JSON.stringify(t.options[l])))})}),this.serverBaseline=this.serialize(),this.initialized=!0,this.$nextTick(()=>{this.buildSearchIndex()})})},methods:{forceUpdate(){this.$forceUpdate()},serialize(){return JSON.parse(JSON.stringify(this.config))},deepCopy(a){return JSON.parse(JSON.stringify(a))},manualSave(){this.save({includeRestartGated:!0})},onStatusClick(){if(!this.restartRequired)return;const a=document.getElementById("restart-apply-button");a&&(a.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{a.classList.add("pulse-highlight"),a.focus({preventScroll:!0}),setTimeout(()=>a.classList.remove("pulse-highlight"),2500)},350))},scheduleAutoSave(){this.userChanged&&(this._autoSaveTimer&&clearTimeout(this._autoSaveTimer),this._autoSaveTimer=setTimeout(()=>{this.save({includeRestartGated:!1})},600))},save(a={includeRestartGated:!0}){this.saved=!1,this.restarted=!1,this.appliedNow=!1,this.deferred=!1,this.restartRequired=!1,this.saving=!0;let d=this.serialize();this.tabs.forEach(l=>{Object.keys(l.options).forEach(o=>{let n=!1;JSON.stringify(d[o])===JSON.stringify(l.options[o])&&(n=!0),n&&delete d[o]})}),!a.includeRestartGated&&this.pendingRestartSave&&Object.keys(this.restartGatedDirty).forEach(l=>{delete d[l]});const t=Object.keys(d);return t.length===0?(this.saving=!1,this.appliedNow=!1,this.restartGatedDirty={},this.restartGatedKeys.forEach(l=>{JSON.stringify(this.config[l])!==JSON.stringify(this.serverBaseline[l])&&(this.restartGatedDirty[l]=!0)}),this.pendingRestartSave=Object.keys(this.restartGatedDirty).length>0,Promise.resolve(!0)):fetch("./api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(async l=>{if(l.status!==200)return this.saving=!1,!1;try{const o=await l.json();this.appliedNow=!!o.appliedNow,this.deferred=!!o.deferred,this.restartRequired=!!o.restartRequired}catch{}return this.saving=!1,this.userChanged=!1,a.includeRestartGated?this.serverBaseline=this.serialize():t.forEach(o=>{o in this.restartGatedDirty||(this.serverBaseline[o]=this.deepCopy(this.config[o]))}),this.restartGatedDirty={},this.restartGatedKeys.forEach(o=>{JSON.stringify(this.config[o])!==JSON.stringify(this.serverBaseline[o])&&(this.restartGatedDirty[o]=!0)}),this.pendingRestartSave=Object.keys(this.restartGatedDirty).length>0,!0})},apply(){this.saved=this.restarted=!1,this.save().then(d=>{d===!0&&(this.restarted=!0,setTimeout(()=>{this.saved=this.restarted=!1},5e3),fetch("./api/restart",{method:"POST",headers:{"Content-Type":"application/json"}}))})},buildSearchIndex(){this.searchIndex=[],this.tabs.forEach(a=>{Object.keys(a.options).forEach(d=>{let t="";try{const o=this.$t(`config.${d}`);t=o!==`config.${d}`?o:d}catch{t=d}let l="";try{let o=`config.${d}_desc_${this.platform}`,n=this.$t(o);n===o?(o=`config.${d}_desc`,n=this.$t(o),n!==o&&(l=n)):l=n}catch{}this.searchIndex.push({key:d,tabId:a.id,tabName:a.name,labelText:t,descText:l,rawKey:d})})})},normalizeText(a){return a.toLowerCase().trim()},scoreEntry(a,d){const t=this.normalizeText(`${a.tabName} ${a.labelText} ${a.descText} ${a.rawKey}`);if(!d.every(c=>t.includes(this.normalizeText(c))))return-1;let o=0;const n=this.normalizeText(a.labelText),i=this.normalizeText(a.rawKey);return d.forEach(c=>{const f=this.normalizeText(c);n.startsWith(f)||i.startsWith(f)?o-=20:n.split(" ").some(V=>V.startsWith(f))?o-=10:n.includes(f)?o-=5:this.normalizeText(a.descText).includes(f)&&(o-=1)}),o},onSearchInput(){this._searchDebounceTimer&&clearTimeout(this._searchDebounceTimer),this._searchDebounceTimer=setTimeout(()=>{this.performSearch()},120)},performSearch(){const a=this.searchQuery.trim();if(!a){this.searchResults=[],this.searchActiveIndex=-1;return}const d=a.split(/\s+/).filter(l=>l.length>0),t=this.searchIndex.map(l=>({...l,score:this.scoreEntry(l,d)})).filter(l=>l.score>-1).sort((l,o)=>l.score!==o.score?l.score-o.score:l.tabName!==o.tabName?l.tabName.localeCompare(o.tabName):l.labelText.localeCompare(o.labelText)).slice(0,10);this.searchResults=t,this.searchActiveIndex=t.length>0?0:-1},onSearchKeydown(a){var d,t;if(!this.searchActive||this.searchResults.length===0){(a.key==="/"||a.ctrlKey&&a.key==="k")&&(a.preventDefault(),(d=this.$refs.searchInput)==null||d.focus());return}switch(a.key){case"ArrowDown":a.preventDefault(),this.searchActiveIndex=Math.min(this.searchActiveIndex+1,this.searchResults.length-1);break;case"ArrowUp":a.preventDefault(),this.searchActiveIndex=Math.max(this.searchActiveIndex-1,0);break;case"Enter":a.preventDefault(),this.searchActiveIndex>=0&&this.searchResults[this.searchActiveIndex]?this.selectSearchResult(this.searchResults[this.searchActiveIndex]):this.searchResults.length===1&&this.selectSearchResult(this.searchResults[0]);break;case"Escape":a.preventDefault(),this.searchQuery?this.clearSearch():(this.searchActive=!1,(t=this.$refs.searchInput)==null||t.blur());break}},onSearchBlur(){setTimeout(()=>{this.searchActive=!1},150)},selectSearchResult(a){this.currentTab!==a.tabId&&(this.currentTab=a.tabId),this.clearSearch(),this.searchActive=!1,this.suppressHashHandlerUntil=Date.now()+1e3,this.$nextTick(()=>{setTimeout(()=>{const d=document.getElementById(a.key);if(d){window.location.hash="#"+a.key,d.scrollIntoView({behavior:"smooth",block:"center"}),this.highlightElement(d);const t=d.querySelector("input, select, textarea, button");t&&setTimeout(()=>{t.focus({preventScroll:!0})},500)}else{const t=document.querySelector(".config-page");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}},100)})},highlightElement(a){const d=document.querySelector(".search-hit-pulse");d&&d.classList.remove("search-hit-pulse");let t=a;(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA")&&(t=a.closest(".mb-3, .form-check")||a),t.classList.add("search-hit-pulse"),setTimeout(()=>{t.classList.remove("search-hit-pulse")},2500)},clearSearch(){this.searchQuery="",this.searchResults=[],this.searchActiveIndex=-1}},watch:{config:{deep:!0,handler(){this.initialized&&(this.restartGatedDirty={},this.restartGatedKeys.forEach(a=>{JSON.stringify(this.config[a])!==JSON.stringify(this.serverBaseline[a])&&(this.restartGatedDirty[a]=!0)}),this.pendingRestartSave=Object.keys(this.restartGatedDirty).length>0,this.scheduleAutoSave())}},"config.locale":{handler(a,d){this.initialized&&a!==d&&this.$nextTick(()=>{setTimeout(()=>{this.buildSearchIndex()},200)})}}},mounted(){const a=()=>{this.userChanged=!0},d=document.querySelector(".container");d&&(d.addEventListener("input",a,{passive:!0}),d.addEventListener("change",a,{passive:!0}));const t=()=>{if(this.suppressHashHandlerUntil>Date.now())return;let l=window.location.hash;if(l){let o=l.substring(1);this.tabs.forEach(n=>{Object.keys(n.options).forEach(i=>{if((n.id===o||i===o)&&(this.currentTab=n.id),i===o&&setTimeout(()=>{document.getElementById(o)&&(window.location.hash=l)},2e3),this.currentTab===n.id)return!0})})}};t(),window.addEventListener("hashchange",t)},computed:{statusClass(){return this.saving?"status-saving":this.restartRequired||this.pendingRestartSave?"status-deferred":this.appliedNow?"status-applied":this.deferred?"status-deferred":"status-waiting"},statusText(){return this.saving?this.$t("config.saving"):this.restartRequired?this.$t("config.restart_required"):this.pendingRestartSave&&!this.saving?this.$t("config.manual_save_needed"):this.appliedNow?this.$t("config.saved_success"):this.deferred?this.$t("config.saved_deferred"):this.$t("config.waiting_for_changes")}}});z(Va);
